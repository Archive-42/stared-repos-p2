(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{104:function(e,t,n){e.exports=n.p+"static/media/keys1.a8e4972b.wav"},105:function(e,t,n){e.exports=n.p+"static/media/keys2.16fed8ba.wav"},106:function(e,t,n){e.exports=n.p+"static/media/keys3.a6151b49.wav"},107:function(e,t,n){e.exports=n.p+"static/media/keys4.adef3c06.wav"},108:function(e,t,n){e.exports=n.p+"static/media/keys5.64dc573b.wav"},109:function(e,t,n){e.exports=n.p+"static/media/keys6.ce18e86b.wav"},110:function(e,t,n){e.exports=n.p+"static/media/keys7.1cfa2c13.wav"},111:function(e,t,n){e.exports=n.p+"static/media/hat.5bf094ed.mp3"},112:function(e,t,n){e.exports=n.p+"static/media/claves.5cbab655.mp3"},113:function(e,t,n){e.exports=n.p+"static/media/triangle.9c9a80aa.mp3"},114:function(e,t,n){e.exports=n.p+"static/media/shaker.75b38868.mp3"},115:function(e,t,n){e.exports=n.p+"static/media/crash.a5e175ae.mp3"},116:function(e,t,n){e.exports=n.p+"static/media/conga.e07b4df6.mp3"},117:function(e,t,n){e.exports=n.p+"static/media/conga2.cbe174bb.mp3"},118:function(e,t,n){e.exports=n.p+"static/media/tom.968f27c9.mp3"},119:function(e,t,n){e.exports=n.p+"static/media/tom2.b2e86178.mp3"},120:function(e,t,n){e.exports=n.p+"static/media/snare.11cd17d5.wav"},121:function(e,t,n){e.exports=n.p+"static/media/snare2.8e7cf7dc.wav"},122:function(e,t,n){e.exports=n.p+"static/media/rim.2221c5e7.wav"},123:function(e,t,n){e.exports=n.p+"static/media/clap.17e9601a.wav"},124:function(e,t,n){e.exports=n.p+"static/media/snap.c5416f0a.wav"},125:function(e,t,n){e.exports=n.p+"static/media/8081wkick.79fec49a.wav"},126:function(e,t,n){e.exports=n.p+"static/media/8082wkick.49f9df55.wav"},127:function(e,t,n){e.exports=n.p+"static/media/8083wkick.b96e0c13.wav"},128:function(e,t,n){e.exports=n.p+"static/media/8084wkick.70e67fbc.wav"},129:function(e,t,n){e.exports=n.p+"static/media/8085wkick.2c63892f.wav"},130:function(e,t,n){e.exports=n.p+"static/media/rest.9069a0b5.wav"},147:function(e,t,n){e.exports=n(181)},178:function(e,t,n){e.exports=n.p+"static/media/kick.8ac64169.wav"},179:function(e,t,n){e.exports=n.p+"static/media/kick2.080187a2.wav"},180:function(e,t,n){},181:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),o=n(19),l=n(2),u=n.n(l),s=n(8),d=n(6),m=n(41),f=n(3),p="Muse/session/SET_USER",b="Muse/session/REMOVE_USER",g="Muse/session/SET_BOARDS",h="Muse/session/REMOVE_BOARDS",v=function(e){return{type:p,payload:e}},O=function(e){return{type:g,payload:e}},j=n(18),E=(Object(a.createContext)(null),Object(a.createContext)(!1)),x=(Object(a.createContext)(!1),Object(a.createContext)(!1)),k=n(229),y=n(242),w=n(230),C=n(226),S=n(227),I=n(222),D=function(e){var t=Object(a.useContext)(E).setAuthDialog,n=Object(o.c)(),c=Object(j.g)(),i=Object(a.useState)("demo@demo.demo"),l=Object(d.a)(i,2),m=l[0],f=l[1],p=Object(a.useState)("Darks@8927"),b=Object(d.a)(p,2),g=b[0],h=b[1],O=Object(a.useState)([]),x=Object(d.a)(O,2),D=x[0],_=x[1],A=function(e){switch(e.target.id){case"email":return void f(e.target.value);case"password":return void h(e.target.value);default:return}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{id:"form-dialog-title"},"Log In"),r.a.createElement(C.a,null,r.a.createElement(S.a,null,"To Log In to this website, please enter your email address here."),r.a.createElement("form",{onSubmit:function(e){var a;e.preventDefault(),_([]),n((a={credential:m,password:g},function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.credential,r=a.password,e.prev=1,e.next=4,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})});case 4:if(!(c=e.sent).ok){e.next=12;break}return e.next=8,c.json();case 8:return i=e.sent,t(v(i.user)),window.location.replace("/dashboard"),e.abrupt("return",i);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){e.data&&e.data.errors&&_(e.data.errors)})),t(!1),c.push("muse-lab")}},r.a.createElement("ul",null,D.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement(y.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"text",value:m,onChange:function(e){return A(e)},required:!0,fullWidth:!0}),r.a.createElement(y.a,{margin:"dense",id:"password",label:"Password",type:"password",value:g,onChange:function(e){return A(e)},required:!0,fullWidth:!0}),r.a.createElement(k.a,{type:"submit",color:"primary"},"Login"))),r.a.createElement(w.a,null,r.a.createElement(k.a,{onClick:function(){return t(!1)},color:"primary"},"Cancel"),r.a.createElement(k.a,{onClick:function(){e.setWhichDialog("signup")},color:"primary"},"Signup?")))},_=function(e){var t=Object(a.useContext)(E).setAuthDialog,n=Object(o.c)(),c=Object(j.g)(),i=Object(a.useState)(""),l=Object(d.a)(i,2),m=l[0],f=l[1],p=Object(a.useState)(""),b=Object(d.a)(p,2),g=b[0],h=b[1],O=Object(a.useState)(""),x=Object(d.a)(O,2),D=x[0],_=x[1],A=Object(a.useState)(""),B=Object(d.a)(A,2),N=B[0],T=B[1],q=Object(a.useState)([]),P=Object(d.a)(q,2),F=P[0],R=P[1],M=function(e){return function(t){switch(e){case"email":f(t.target.value);break;case"username":h(t.target.value);break;case"password":_(t.target.value);break;case"confirmPassword":T(t.target.value);break;default:return}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{id:"form-dialog-title"},"Log In"),r.a.createElement(C.a,null,r.a.createElement("ul",null,F.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement(S.a,null,"To Log In to this website, please enter your email address here."),r.a.createElement("form",{onSubmit:function(e){var t;return e.preventDefault(),D===N&&(R([]),n((t={email:m,username:g,password:D},function(){var e=Object(s.a)(u.a.mark((function e(n){var a,r,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.email,c=t.password,e.prev=1,e.next=4,fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:r,password:c})});case 4:if(!(i=e.sent).ok){e.next=12;break}return e.next=8,i.json();case 8:return o=e.sent,n(v(o.user)),window.location.replace("/dashboard"),e.abrupt("return",o);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){e.data&&e.data.errors&&R(e.data.errors)})),c.replace("/")),R(["Confirm Password field must be the same as the Password field"])}},r.a.createElement(y.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",value:m,onChange:M("email"),required:!0,fullWidth:!0}),r.a.createElement(y.a,{margin:"dense",id:"name",label:"Username",value:g,onChange:M("username"),required:!0,fullWidth:!0}),r.a.createElement(y.a,{margin:"dense",id:"password",label:"Password",value:D,onChange:M("password"),required:!0,fullWidth:!0}),r.a.createElement(y.a,{margin:"dense",id:"confirmPassword",label:"Confirm Password",value:N,onChange:M("confirmPassword"),required:!0,fullWidth:!0}),r.a.createElement(k.a,{type:"submit",color:"primary"},"Signup"))),r.a.createElement(w.a,null,r.a.createElement(k.a,{onClick:function(){return t(!1)},color:"primary"},"Cancel")))},A=n(82),B=function(){return r.a.createElement("div",null,r.a.createElement(A.a,null,"Click on a Beat Pad to create a sequence with a provided library of sounds."),r.a.createElement(A.a,null,"To add a note, drag a note from a chosen library and click play."),r.a.createElement(A.a,null,"When satisfied, click submit."),r.a.createElement(A.a,null,"Clicking on the same Pad again will play the created sequence."),r.a.createElement(A.a,null,"After giving the project a name, click Save to library to save your project."))},N=n(231),T=n(182),q=n(244),P=n(98),F=n.n(P),R=Object(N.a)((function(e){return{myColor:{color:"#AFB1D4"},navBar_root:{display:"grid",gridAutoFlow:"column",gridTemplateAreas:"'left middle right'",justifyContent:"space-between",padding:"0.5rem",zIndex:"0"},navBar_left:{display:"flex",gridArea:"left",maxWidth:"25rem"},navBar_middle:{display:"flex",gridArea:"middle"},navBar_right:{display:"flex",alignItems:"center",gridArea:"right"},navBar_navContainer:{display:"flex",alignItems:"center"},navBar_icon:{minWidth:"1.5rem",maxWidth:"3rem"},navBar_iconContainer:{display:"grid",gridAutoColumns:"column",maxWidth:"fit-content",justifyContent:"center"},navBar_iconWrapper:{display:"flex",alignItems:"center",padding:".5rem"},iconButton:{"&.MuiIconButton-root":{borderRadius:".5rem",padding:".5rem"}},dialog:{width:"auto",height:"auto"}}})),M=function(){var e=R(),t=Object(j.g)(),n=Object(o.d)((function(e){return e.session.user})),c=Object(a.useContext)(E),i=c.authDialog,l=c.setAuthDialog,u=Object(a.useState)(),s=Object(d.a)(u,2),m=s[0],f=s[1],p=Object(a.useState)(""),b=Object(d.a)(p,2),g=b[0],h=b[1];Object(a.useEffect)((function(){"{}"===JSON.stringify(n)?f(null):f(n)}),[n]);var v=[{title:"Create",redirect:!0,path:"/board",icon:r.a.createElement(A.a,{className:e.myColor},"Create")},{title:"Help",redirect:!1,path:"help",icon:r.a.createElement(F.a,{className:e.myColor})},{title:"Library",redirect:!0,path:"/library",icon:r.a.createElement(A.a,{className:e.myColor},"Library")}],O=function(e){h(e),l(!0)},x=function(e){t.push(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.navBar_root},r.a.createElement("div",{className:e.navBar_left},r.a.createElement(k.a,null,r.a.createElement(A.a,{className:e.myColor},"Muse"))),r.a.createElement("div",{className:e.navBar_middle},r.a.createElement("div",{className:e.navBar_navContainer},v.map((function(t){return r.a.createElement(T.a,{className:e.iconButton,key:t.title,title:t.title,onClick:function(){return t.redirect?x(t.path):O(t.path)}},t.icon)})))),r.a.createElement("div",{className:e.navBar_right},r.a.createElement(k.a,{className:e.iconButton,title:m?"Profile":"Login",onClick:function(){return m?x("/profile"):O("login")}},r.a.createElement(A.a,{className:e.myColor},m?"".concat(m.username):"Login")))),r.a.createElement(q.a,{open:i,onClose:function(){l(!1)},className:e.dialog,"aria-labelledby":"form-dialog-title"},function(e){switch(e){case"login":return r.a.createElement(D,{whichDialog:g,setWhichDialog:h});case"signup":return r.a.createElement(_,null);case"help":return r.a.createElement(B,null);default:return}}(g)))},W=(n(34),n(15)),L=n(16),z=n(99),H=n.n(z),J=n(59),U=n(37),G=n(100),K=n.n(G);n(176);function V(){var e=Object(W.a)(["\n  width: 3rem;\n  margin: .5rem;\n  padding: 1rem;\n  border-radius: .25rem;\n\n  text-align: center;\n  background: linear-gradient(145deg, #232323, #1e1e1e);\n\n  box-shadow:  8px 8px 16px #080808,\n             -8px -8px 16px #1e1e1e;\n\n  color: #AFB1D4;\n"]);return V=function(){return e},e}var X=L.a.div(V()),Z=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2);n[0],n[1];return r.a.createElement(U.b,{draggableId:e.task.id,index:e.index},(function(t,n){return r.a.createElement(X,Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,isDragging:n.isDragging}),e.task.title)}))},Q=n(104),Y=n.n(Q),$=n(105),ee=n.n($),te=n(106),ne=n.n(te),ae=n(107),re=n.n(ae),ce=n(108),ie=n.n(ce),oe=n(109),le=n.n(oe),ue=n(110),se=n.n(ue),de=n(111),me=n.n(de),fe=n(112),pe=n.n(fe),be=n(113),ge=n.n(be),he=n(114),ve=n.n(he),Oe=n(115),je=n.n(Oe),Ee=n(116),xe=n.n(Ee),ke=n(117),ye=n.n(ke),we=n(118),Ce=n.n(we),Se=n(119),Ie=n.n(Se),De=n(120),_e=n.n(De),Ae=n(121),Be=n.n(Ae),Ne=n(122),Te=n.n(Ne),qe=n(123),Pe=n.n(qe),Fe=n(124),Re=n.n(Fe),Me=(n(178),n(179),n(125)),We=n.n(Me),Le=n(126),ze=n.n(Le),He=n(127),Je=n.n(He),Ue=n(128),Ge=n.n(Ue),Ke=n(129),Ve=n.n(Ke),Xe=n(130),Ze=n.n(Xe);function Qe(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  height: 10rem;\n"]);return Qe=function(){return e},e}function Ye(){var e=Object(W.a)(["\n display: flex;\n flex-direction: column;\n justify-content: center;\n align-items: center;\n"]);return Ye=function(){return e},e}function $e(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin: 1rem;\n  border-radius: .5rem;  \n  width: 45rem;\n\n  background: #212121;\n  box-shadow: inset 8px 8px 16px #080808, inset -8px -8px 16px #1e1e1e;\n"]);return $e=function(){return e},e}var et={Chords:{Chords_1:Y.a,Chords_2:ee.a,Chords_3:ne.a,Chords_4:re.a,Chords_5:ie.a,Chords_6:le.a,Chords_7:se.a},Percussions:{Hat_1:me.a,Claves_1:pe.a,Triangle_1:ge.a,Shaker_1:ve.a,Crash_1:je.a,Conga_1:xe.a,Conga_2:ye.a,Tom_1:Ce.a,Tom_2:Ie.a},Snares:{Snare_1:_e.a,Snare_2:Be.a,Rim_1:Te.a,Clap_1:Pe.a,Snap_1:Re.a},808:{Kick_1:"https://muse-sound-tracks.s3.us-east-2.amazonaws.com/sounds/808-snares/kick.wav",Kick_2:"https://drive.google.com/file/d/1IZr9siTmFWzGEETz8FeCz3_PXIi-MTWE/view?usp=sharing","808_1":We.a,"808_2":ze.a,"808_3":Je.a,"808_4":Ge.a,"808_5":Ve.a},Misc:{Rest_1:Ze.a}},tt=L.a.div($e()),nt=L.a.div(Ye()),at=L.a.div(Qe()),rt=function(e){return r.a.createElement(tt,null,r.a.createElement(U.c,{droppableId:e.column.id,type:"notes",direction:"horizontal"},(function(t,n){return r.a.createElement(at,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:n.isDraggingOver}),e.tasks.map((function(e,t){return r.a.createElement(Z,{key:e.id,task:e,index:t})})),t.placeholder)})))},ct=function(){var e=Object(a.useState)(function(){var e={},t={};Object.keys(et).map((function(n,a){var r={};Object.keys(et[n]).map((function(e,a){var c="".concat(n,"-").concat(e);r[c]={id:c,title:e,library:n},t[c]={id:c,title:e,library:n}})),e[n]={id:n,title:n,taskIds:Object.keys(r)}}));var n=Object.keys(e);return{tasks:t,columns:e,columnOrder:n}}()),t=Object(d.a)(e,2),n=t[0];t[1];return r.a.createElement(K.a,null,n.columnOrder.map((function(e,t){var a=n.columns[e],c=a.taskIds.map((function(e){return n.tasks[e]}));return r.a.createElement(nt,{key:a.id},r.a.createElement("div",{style:{color:"#AFB1D4"}},e),r.a.createElement(rt,{column:a,tasks:c,index:t}))})))},it=n(71),ot=n.n(it);function lt(){var e=Object(W.a)(["\n  background: white;\n  height: 1rem;\n  width: 100%;\n\n  position: relative;\n  top: 1;\n"]);return lt=function(){return e},e}function ut(){var e=Object(W.a)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: column;\n\ncolor: #255784;\nbackground-color: ",";\n// background: #2196f3;\ntext-transform: uppercase;\nletter-spacing: none;\nfont-size: 24px;\noverflow: hidden;\nborder-radius: 0.5rem;\n\nwidth: 10rem;\nheight: 10rem;\n\nbox-shadow: ",";\ntransition: 0.2s;\n"]);return ut=function(){return e},e}var st=L.a.div(ut(),(function(e){return e.play?"#0ff0fc":"#AFB1D4"}),(function(e){return e.play?"0 0 10px #2196f3, 0 0 40px #2196f3, 0 0 80px #2196f3":0})),dt=(L.a.span(lt()),function(e){var t=Object(a.useRef)(e.sequenceState.sequences[e.index]),n=Object(a.useRef)(),c=Object(a.useRef)(),i=t.current.sequenceData,o=Object(a.useState)(t.current.multiplier?t.current.multiplier:1),l=Object(d.a)(o,2),u=l[0],s=l[1],m=Object(a.useState)(!1),f=Object(d.a)(m,2),p=f[0],b=f[1],g=Object(a.useState)(!1),h=Object(d.a)(g,2),v=h[0],O=h[1];function j(){var e={};i&&Object.values(i.columns).forEach((function(t){t.taskIds.forEach((function(t){var n=i.tasks[t],a=n.title,r=n.library;e[a]=et[r][a]}))}));var t=new J.a(e,(function(){n.current=t}))}Object(N.a)((function(){return{button:function(e,t){return{width:"10rem",height:"10rem",backgroundColor:"".concat(e.sequenceState.sequences[e.index].color),boxShadow:"".concat(t?"0 0 10px #2196f3, 0 0 40px #2196f3, 0 0 80px #2196f3":0)}}}}))(e,p);return Object(a.useEffect)((function(){p?function t(){var a=0;!function r(){var o=0,l=i.columns[i.columnOrder[a]],s=0;l.taskIds.length>0?(s=(e.bpm?Math.floor(6e4/e.bpm):1e3)*u/l.taskIds.length,function e(){var u=i.tasks[l.taskIds[o]].title;new J["b"](n.current.get(u)).toDestination().start(),++o<l.taskIds.length?c.current=setTimeout(e,s):++a<i.columnOrder.length?c.current=setTimeout(r,s):c.current=setTimeout((function(){return t()}),s)}()):(s=(e.bpm?Math.floor(6e4/e.bpm):1e3)*u,++a<i.columnOrder.length?c.current=setTimeout(r,s):c.current=setTimeout((function(){return t()}),s))}()}():clearTimeout(c.current)}),[p]),Object(a.useEffect)((function(){s(t.current.multiplier),i&&j(),O(!0)}),[e]),Object(a.useEffect)((function(){i&&j(),O(!0)}),[]),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(st,{play:p,onClick:function(){return i?b(!p):e.setOpenDialog(e.index)}},i?r.a.createElement(A.a,null,t.current.sequenceTitle):r.a.createElement(ot.a,null)))}),mt=n(10),ft=n(23);function pt(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  min-height: 10rem;\n  min-width: 5rem;\n"]);return pt=function(){return e},e}function bt(){var e=Object(W.a)(["\n  min-height: 1rem;\n"]);return bt=function(){return e},e}function gt(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin: 1rem;\n  border-radius: .5rem;\n  min-height: 8rem;\n  width: 10rem;\n\n  background: #131313;\n  box-shadow: inset 8px 8px 16px #080808, inset -8px -8px 16px #1e1e1e;\n"]);return gt=function(){return e},e}var ht=L.a.div(gt()),vt=(L.a.h3(bt()),L.a.div(pt())),Ot=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){}),[e]),Object(a.useEffect)((function(){i(!0)}),[]),c&&r.a.createElement(U.b,{draggableId:e.column.id,index:e.index},(function(t){return r.a.createElement(ht,Object.assign({},t.draggableProps,{ref:t.innerRef},t.dragHandleProps),r.a.createElement(U.c,{droppableId:e.column.id,type:"notes"},(function(t,n){return r.a.createElement(vt,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:n.isDraggingOver}),e.tasks.map((function(e,t){return r.a.createElement(Z,{key:e.id,task:e,index:t})})),t.placeholder)})))}))},jt=n(245),Et=n(232),xt=n(233),kt=n(134),yt=n.n(kt),wt=n(132),Ct=n.n(wt),St=n(131),It=n.n(St),Dt=n(133),_t=n.n(Dt);function At(){var e=Object(W.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #edf2f4;\n"]);return At=function(){return e},e}function Bt(){var e=Object(W.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: #edf2f4;\n"]);return Bt=function(){return e},e}function Nt(){var e=Object(W.a)(["\n display: flex;\n width: fit-content;\n//  border: solid red;\n"]);return Nt=function(){return e},e}function Tt(){var e=Object(W.a)(["\n  background: #212121;\n  width: fit-content;\n\n"]);return Tt=function(){return e},e}var qt=L.a.div(Tt()),Pt=L.a.div(Nt()),Ft=L.a.div(Bt()),Rt=L.a.div(At()),Mt=Object(N.a)((function(e){return{expandIcon:{colorPrimary:"white"},accordion:{backgroundColor:"#212121"},white:{color:"#AFB1D4",textAlign:"center","&::placeholder":{color:"#AFB1D4",textAlign:"center"}}}})),Wt=function(e){var t=Mt(),n=e.sequenceState.sequences[e.index],c=Object(a.useRef)({tasks:{},columns:{"block-1":{id:"block-1",title:"block-1",taskIds:[]},"block-2":{id:"block-2",title:"block-2",taskIds:[]},"block-3":{id:"block-3",title:"block-3",taskIds:[]},"block-4":{id:"block-4",title:"block-4",taskIds:[]}},columnOrder:["block-1","block-2","block-3","block-4"]}),i=Object(a.useState)(),o=Object(d.a)(i,2),l=o[0],u=o[1],s=Object(a.useRef)(),m=Object(a.useRef)(),p=Object(a.useState)(e.index?n.sequenceTitle:""),b=Object(d.a)(p,2),g=b[0],h=b[1],v=Object(a.useState)(e.index?n.multiplier:1),O=Object(d.a)(v,2),j=O[0],E=O[1],x=Object(a.useState)(e.bpm?Math.floor(6e4/e.bpm):1e3),w=Object(d.a)(x,1)[0],C=Object(a.useState)(!1),S=Object(d.a)(C,2),I=S[0],D=S[1],_=Object(a.useState)(!1),B=Object(d.a)(_,2),N=B[0],q=B[1],P=function(e,t){switch(t){case"name":return void h(e.target.value);case"multiplier":return void E(e)}},F=function(){var e="block-".concat(function(){var e=0;return c.current.columnOrder.forEach((function(t,n){var a=parseInt(t.split("-")[1]);a>e&&(e=a)})),e}()+1),t={id:e,title:e,taskIds:[]},n=Object(f.a)(Object(f.a)({},c.current),{},{columns:Object(f.a)(Object(f.a)({},c.current.columns),{},Object(ft.a)({},e,t)),columnOrder:[].concat(Object(mt.a)(c.current.columnOrder),[e])});c.current=n,u(c.current)};return Object(a.useEffect)((function(){console.log("Sense change in useRef")}),[c.current]),Object(a.useEffect)((function(){c.current&&(I?function e(){var t=0;!function n(){var a=0,r=c.current.columns[c.current.columnOrder[t]],i=0;r.taskIds.length>0?(i=w*j/r.taskIds.length,I&&function o(){var l=c.current.tasks[r.taskIds[a]].title,u=s.current.get(l);new J["b"](u.get()).toDestination().start(),++a<r.taskIds.length?m.current=setTimeout((function(){return I&&o()}),i):++t<c.current.columnOrder.length?m.current=setTimeout((function(){return I&&n()}),i):m.current=setTimeout((function(){return I&&e()}),i)}()):(i=w*j,++t<c.current.columnOrder.length?m.current=setTimeout((function(){return I&&n()}),i):m.current=setTimeout((function(){return I&&e()}),i))}()}():clearTimeout(m.current))}),[I]),Object(a.useEffect)((function(){q(!0)}),[]),N&&r.a.createElement(qt,null,r.a.createElement(Ft,null,r.a.createElement(y.a,{placeholder:"Sequence Name",value:g,onChange:function(e){return P(e,"name")},inputProps:{className:t.white}}),r.a.createElement(Rt,null,r.a.createElement(k.a,{className:t.white,onClick:function(){return P(2,"multiplier")}},"2"),r.a.createElement(k.a,{className:t.white,onClick:function(){return P(1,"multiplier")}},"1"),r.a.createElement(k.a,{className:t.white,onClick:function(){return P(.5,"multiplier")}},"1/2"),r.a.createElement(k.a,{className:t.white,onClick:function(){return P(1/4,"multiplier")}},"1/4"),r.a.createElement(k.a,{className:t.white,onClick:function(){return P(1/8,"multiplier")}},"1/8"))),r.a.createElement(Rt,{style:{justifyContent:"center"}},r.a.createElement(T.a,{onClick:function(){return c.current&&D(!I)}},I?r.a.createElement(It.a,{className:t.white}):r.a.createElement(Ct.a,{className:t.white})),r.a.createElement(T.a,{onClick:function(){return F()}},r.a.createElement(ot.a,{className:t.white})),r.a.createElement(T.a,{onClick:function(){return function(){var e=c.current.columnOrder[c.current.columnOrder.length-1],t=c.current;t.columnOrder.pop(),delete t.columns[e],Object.keys(t.columns)>0&&(c.current=t,u(c.current))}()}},r.a.createElement(_t.a,{className:t.white}))),r.a.createElement(U.a,{onDragEnd:function(e){var t,n=e.destination,a=e.source,r=e.draggableId,i=e.type;if(n&&(n.draggableId!==a.droppableId||n.index!==a.index)){if("column"===i){var o=Array.from(c.current.columnOrder);o.splice(a.index,1),o.splice(n.index,0,r);var d=Object(f.a)(Object(f.a)({},c.current),{},{columnOrder:o});return c.current=d,void u(c.current)}if(c.current.columnOrder.includes(a.droppableId)){if(!c.current.columnOrder.includes(n.droppableId)){var m=c.current,p=m.columns[a.droppableId].taskIds.indexOf(r);return m.columns[a.droppableId].taskIds.splice(p,1),delete m.tasks[r],c.current=m,void u(c.current)}var b=c.current.columns[a.droppableId],g=c.current.columns[n.droppableId];if(b===g){var h=Array.from(b.taskIds);h.splice(a.index,1),h.splice(n.index,0,r);var v=Object(f.a)(Object(f.a)({},b),{},{taskIds:h}),O=Object(f.a)(Object(f.a)({},c.current),{},{columns:Object(f.a)(Object(f.a)({},c.current.columns),{},Object(ft.a)({},v.id,v))});return c.current=O,void u(c.current)}var j=Array.from(b.taskIds);j.splice(a.index,1);var E=Object(f.a)(Object(f.a)({},b),{},{taskIds:j}),x=Array.from(g.taskIds);x.splice(n.index,0,r);var k=Object(f.a)(Object(f.a)({},g),{},{taskIds:x}),y=Object(f.a)(Object(f.a)({},c.current),{},{columns:Object(f.a)(Object(f.a)({},c.current.columns),{},(t={},Object(ft.a)(t,E.id,E),Object(ft.a)(t,k.id,k),t))});c.current=y,u(c.current)}else{if(a.droppableId===n.droppableId)return;var w,C=c.current.columns[n.droppableId],S=r.split("-"),I="".concat(S[1]),D="".concat(r,"-").concat(function(){var e=0;return c.current.columnOrder.forEach((function(t,n){c.current.columns[t].taskIds.forEach((function(t,n){var a=t;t.includes("-")&&(a=parseInt(t.split("-")[2]))>e&&(e=a)}))})),e}()+1);if(Object.keys(et).forEach((function(e){et[e][I]&&(w=e)})),I&&C){var _={id:D,title:I,library:w},A=c.current;return A.columns[n.droppableId].taskIds.push(D),A.tasks[D]=_,c.current=A,u(A,console.log("tempSeq: ",l," sequenceData: ",c.current," newState: ",A)),void function(){var e={};c.current&&Object.values(c.current.columns).forEach((function(t){t.taskIds.forEach((function(t){var n=c.current.tasks[t],a=n.title,r=n.library;e[a]=et[r][a]}))}));var t=new J.a(e,(function(){s.current=t,q(N)}))}()}}}}},r.a.createElement(U.c,{droppableId:"track",direction:"horizontal",type:"column"},(function(e){return r.a.createElement(Pt,Object.assign({},e.droppableProps,{ref:e.innerRef}),c.current.columnOrder.map((function(e,t){var n=c.current.columns[e],a=n.taskIds.map((function(e){return c.current.tasks[e]}));return r.a.createElement(Ot,{key:n.id,column:n,tasks:a,index:t})})),e.placeholder)})),r.a.createElement(jt.a,{className:t.accordion},r.a.createElement(Et.a,{expandIcon:r.a.createElement(yt.a,{className:t.white})},r.a.createElement(A.a,{className:t.white},"Library")),r.a.createElement(xt.a,null,r.a.createElement(ct,{props:c.current})))),r.a.createElement(Rt,{style:{justifyContent:"center"}},r.a.createElement(k.a,{className:t.white,onClick:function(){return function(){D(!0,e.handleClose());var t=e.sequenceState;t.sequences[e.index].sequenceData=c.current,t.sequences[e.index].multiplier=j,t.sequences[e.index].sequenceTitle=""!==g?g:"Sequence Name",e.setSequenceState(t)}()}},"Save")))},Lt=n(234);function zt(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return zt=function(){return e},e}function Ht(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Ht=function(){return e},e}var Jt=L.a.div(Ht()),Ut=L.a.div(zt()),Gt=Object(N.a)((function(e){return{grid:{width:"43rem",height:"43rem"},createButton:{width:"10rem",height:"10rem",backgroundColor:"white"},title:{color:"#AFB1D4",textAlign:"center","&::placeholder":{color:"#AFB1D4",textAlign:"center"}},bpm:{color:"#AFB1D4",textAlign:"center",width:"5rem"}}})),Kt=function(e){var t=Gt(),n=Object(o.c)(),c=Object(j.h)().boardId,i=Object(a.useState)(16),l=(Object(d.a)(i,1)[0],Object(o.d)((function(e){return e.session.user}))),m=Object(a.useState)(e.beatPadData?e.beatPadData:function(){for(var e={sequences:{}},t=0;t<16;t++){e.sequences[t]={sequenceTitle:"",sequenceData:null,multiplier:1,color:"#AFB1D4"}}return e.projectName="",e.bpm=Math.floor(6e4/857),e}()),p=Object(d.a)(m,2),b=p[0],g=p[1],h=Object(a.useState)(null),v=Object(d.a)(h,2),E=v[0],x=v[1],w=Object(a.useState)(!1),C=Object(d.a)(w,2),S=C[0],I=C[1],D=Object(a.useState)(""),_=Object(d.a)(D,2),B=_[0],N=_[1],T=Object(a.useState)(b.bpm?b.bpm:60),q=Object(d.a)(T,2),P=q[0],F=q[1],R=function(e,t){switch(t){case"bpm":b.bpm=e.target.value,g(b),F(e.target.value);break;case"projectName":b.projectName=e.target.value,g(b),N(e.target.value)}},M=function(){var e,t;n((e=l.id,t=b,function(){var n=Object(s.a)(u.a.mark((function n(a){var r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/board/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(f.a)({},t))});case 3:if(!(r=n.sent).ok){n.next=10;break}return n.next=7,r.json();case 7:return c=n.sent,a(O(c)),n.abrupt("return",c);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()))};return Object(a.useEffect)((function(){!function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=17;break}return e.prev=1,e.next=4,fetch("/api/board/".concat(c),{headers:{"Content-Type":"application/json"}});case 4:if(!(t=e.sent).ok){e.next=12;break}return e.next=8,t.json();case 8:n=e.sent,g(n),F(Math.floor(6e4/n.bpm)),N(n.projectName);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:I(!0);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}()()}),[]),S&&r.a.createElement(Jt,null,r.a.createElement(Ut,null,r.a.createElement("div",{style:{display:"flex",alignContent:"center"}},r.a.createElement(A.a,{style:{color:"#AFB1D4",marginTop:".2rem"}},"BPM:"),r.a.createElement(y.a,{value:P,onChange:function(e){return R(e,"bpm")},type:"number",InputProps:{classes:{input:t.bpm}}})),r.a.createElement(y.a,{value:B,onChange:function(e){return R(e,"projectName")},placeholder:"Board Name",InputProps:{classes:{input:t.title}}}),r.a.createElement(k.a,{onClick:function(){return M()}},r.a.createElement(A.a,{style:{color:"#AFB1D4"}},"Save"))),r.a.createElement(Lt.a,{container:!0,justify:"center",alignItems:"center",spacing:1,className:t.grid},Object.values(b.sequences).map((function(e,t){return r.a.createElement(Lt.a,{item:!0,key:t},r.a.createElement(dt,{index:t,openDialog:E,setOpenDialog:x,sequenceState:b,bpm:P}))}))),r.a.createElement(H.a,{isOpen:null!==E,onRequestClose:function(){return x(null)},ariaHideApp:!1,style:{overlay:{backgroundColor:"rgba(62, 62, 62, .8)"},content:{display:"flex",justifyContent:"center",alignItems:"center",inset:"5% 20%",padding:"0",backgroundColor:"#212121",border:"0",borderRadius:"1rem"}}},null!==E&&r.a.createElement(Wt,{index:E,bpm:P,setSequenceState:g,sequenceState:b,handleClose:function(){x(null)}})))},Vt=n(239),Xt=n(235),Zt=n(237),Qt=n(238),Yt=n(240),$t=n(236),en=n(228),tn=Object(N.a)({table:{minWidth:650,backgroundColor:"#feeafa"}}),nn=function(e){var t=e.boards,n=Object(j.g)();return r.a.createElement(Xt.a,null,Object.keys(t).map((function(e){return r.a.createElement($t.a,{key:e},r.a.createElement(Zt.a,{component:"th",scope:"row"},r.a.createElement(A.a,null,r.a.createElement(k.a,{onClick:function(){return a="/board/".concat(t[e].id),void n.push(a);var a}},t[e].title))),r.a.createElement(Zt.a,{align:"right"},t[e].user_id),r.a.createElement(Zt.a,{align:"right"},t[e].date_created))})))},an=function(){var e=tn(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],i=n[1],l=Object(o.d)((function(e){return e.session.boards}));return Object(a.useEffect)((function(){i(!0)}),[]),c&&r.a.createElement(r.a.Fragment,null,l&&Object.keys(l).length>0?r.a.createElement(Qt.a,{component:en.a},r.a.createElement(Vt.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(Yt.a,null,r.a.createElement($t.a,null,r.a.createElement(Zt.a,null,"Board"),r.a.createElement(Zt.a,{align:"right"},"Artist Id"),r.a.createElement(Zt.a,{align:"right"},"Date"))),r.a.createElement(nn,{boards:l}))):r.a.createElement(A.a,null,"No Boards to show. Please create a board first."))},rn=Object(N.a)((function(){return{paper:{backgroundColor:"#212121",padding:"1rem",borderRadius:"1rem",boxShadow:"9px 9px 18px #131313, -9px -9px 18px #2f2f2f"},section:{}}})),cn=function(e){var t=rn(),n=Object(a.useState)(!1),c=Object(d.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(!1),u=Object(d.a)(l,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){o(!0)}),[e.user]),i&&r.a.createElement(x.Provider,{value:{dialogContext:s,setDialogContext:m}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(en.a,{className:t.paper,elevation:0},r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/board/:boardId",render:function(e){return r.a.createElement(Kt,Object.assign({},e,{user:e.user}))}}),r.a.createElement(j.b,{exact:!0,path:"/library",render:function(e){return r.a.createElement(an,e)}}),r.a.createElement(j.b,{path:"*",render:function(e){return r.a.createElement(Kt,e)}})))))},on=n(241);function ln(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ln=function(){return e},e}function un(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return un=function(){return e},e}function sn(){var e=Object(W.a)(["\n  display: flex;\n  justify-content: space-between;\n\n"]);return sn=function(){return e},e}var dn,mn=L.a.div(sn()),fn=L.a.div(un()),pn=L.a.div(ln()),bn=function(){return r.a.createElement(mn,null,r.a.createElement(fn,null,r.a.createElement(A.a,{style:{color:"#AFB1D4"}},"Made By ",r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"},href:"https://github.com/ahan8927"},"Aaron Hanson")," Built with ",r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"},href:"https://tonejs.github.io/"},"Tone.js")),r.a.createElement(A.a,{style:{color:"#AFB1D4"}},"Project ",r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"},href:"https://github.com/ahan8927/Muse"},"Repo"))),r.a.createElement(pn,null,r.a.createElement(A.a,{style:{color:"#AFB1D4"}},"Inspired by ",r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"},href:"https://github.com/joebeachjoebeach/beat-bucket"},"this Man")," and ",r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"},href:"http://sampulator.com/"},"this Man")),r.a.createElement(A.a,{style:{color:"#AFB1D4"}},r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"},href:"https://github.com/ahan8927"},"Github")," ",r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"},href:"https://www.linkedin.com/in/aaron-hanson-brb/"},"LinkedIn")," ",r.a.createElement(on.a,{style:{color:"rgb(198 179 179)"}},"Portfolio"))))},gn=Object(N.a)((function(e){return{root:{maxWidth:"1000px",display:"grid",gridAutoFlow:"row",alignItems:"center",minHeight:"96vh",padding:"1rem",gap:"2rem",width:"100%",gridTemplateRows:"auto 1fr auto"},rootContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw"},spotlight:{position:"absolute",margin:"0",top:"0",left:"0",height:"100%",width:"100%",backgroundImage:"radial-gradient(circle, transparent 100px, rgba(0, 0, 0, 0.85) 160px"}}})),hn=function(e){var t=gn(),n=Object(a.useState)(!1),c=Object(d.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){o(!0)}),[]),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement(m.a,null,r.a.createElement(M,{user:e.user}),r.a.createElement(cn,{user:e.user}),r.a.createElement(bn,null))))},vn=function(e){var t=Object(o.c)(),n=Object(o.d)((function(e){return e.session.user})),c=Object(a.useState)(!1),i=Object(d.a)(c,2),l=i[0],m=i[1],f=Object(a.useState)(!1),p=Object(d.a)(f,2),b=p[0],g=p[1];return Object(a.useEffect)((function(){Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/auth/restore",{headers:{"Content-Type":"application/json"}});case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:return a=e.sent,t(v(a.user)),t(O(a.boards)),e.abrupt("return",a);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}());case 2:m(!0);case 3:case"end":return e.stop()}}),e)})))()}),[]),l&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(E.Provider,{value:{authDialog:b,setAuthDialog:g}},r.a.createElement(hn,{user:n})))},On=(n(180),n(28)),jn=n(135),En={user:null,boards:null},xn=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p:return(e=Object.assign({},t)).user=Object(f.a)({},n.payload),e;case b:return(e=Object.assign({},t)).user=null,e;case g:return(e=Object.assign({},t)).boards=Object(f.a)(Object(f.a)({},e.boards),n.payload),e;case h:return(e=Object.assign({},t)).boards=null,e;default:return t}};dn=Object(On.a)(jn.a);var kn=Object(On.c)({session:xn}),yn=function(e){return Object(On.e)(kn,e,dn)}();i.a.render(r.a.createElement(o.a,{store:yn},r.a.createElement(vn,null)),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.566a3a9d.chunk.js.map