<div class="container" id="topic" ng-controller="topicsController">
	<div class="row" id="topic-nav">
		<div class="col-sm-4 col-sm-offset-8">
			<a href="#/dashboard" class="btn btn-link">Dashboard</a> <button type="submit" class="btn btn-link" ng-click="logout()">Logout</button>
		</div>
		<div class="col-sm-12" ng-repeat="topic in topicdata">
			<h4><a ng-href="#/user/{{topic.author}}">{{topic.author}}</a> posted a topic:</h4>
			<p class="lead"><span ng-bind="topic.title"></span></p>
			<p><span ng-bind="topic.description"></span></p>
		</div>
		<div class="col-sm-12">
			<h4>Post your answer here...</h4>
			<textarea class="form-control" rows="3" ng-model="newPost.content"></textarea>
			<input type="submit" class="btn btn-default" value="Post" ng-click='addPost()'/>
		</div>
		<div class="col-sm-12">
			<ul id="topic-posts">
				<li ng-repeat="post in posts">
					<div class="upvote-container">
					<span ng-bind="post.up_votes"></span><button type="submit" class="btn btn-link" ng-click="upVote(post._id)">Up Vote(s)</button>
					<span ng-bind="post.down_votes"></span><button type="submit" class="btn btn-link" ng-click="downVote(post._id)">Down Vote(s)</button>
					</div>
					<p><a ng-href="#/user/{{post.author}}" class="btn btn-link"><span ng-bind="post.author"></span></a><span ng-bind="post.content"></span></p>
					<ul class="topic-comments">
						<li ng-repeat="comment in comments[post._id]"><p><a href="#/user/{{comment.author}}" class="btn btn-link"><span ng-bind="comment.author"></span></a><span ng-bind="comment.content"></span></p></li>
					</ul>
					<div id="topic-comment-form">
						<textarea class="form-control" rows="3" ng-model="newComment[$index].content"></textarea>
						<input type="submit" class="btn btn-default" value="Comment" ng-click='addComment(post._id,$index)'/>
					</div>
				</li>
			</ul>
		</div>
	</div>
</div>
