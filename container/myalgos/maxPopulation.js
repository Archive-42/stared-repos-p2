const maxPopulationYear = people => {
  debugger
  const birthYears = people.map(p => p[0]).sort()
  let deathYears = people.map(p => p[1]).sort()

  let maxYear
  let maxPop = 0
  let prevPop = 0
  let birthsInYear = 0
  let currentYear = birthYears[0]

  for (let i = 0; i < birthYears.length; i++) {
    let year = birthYears[i]
    if (year === currentYear) {
      // same year
      birthsInYear += 1
    } else {
      // new year

      // adjust prev for deaths
      let deathsInYear = 0
      while (deathYears.length && deathYears[0] < currentYear) {
        deathsInYear += 1
        deathYears = deathYears.slice(1)
      }
      // update prev maxes
      let pop = prevPop + birthsInYear - deathsInYear
      if (pop > maxPop) {
        maxPop = pop
        maxYear = currentYear
      }
      prevPop = pop
      birthsInYear = 1
      currentYear = year
    }
  }

  return [maxYear, maxPop]
}

const people = [
  [1968, 2031],
  [1903, 1948],
  [1912, 1935],
  [1950, 2007],
  [1970, 2002],
  [1944, 2008],
  [1986, 2025],
  [1926, 1971],
  [1924, 1987],
  [1966, 2028],
  [1986, 2017],
  [1962, 2002],
  [1968, 2016],
  [1898, 1957],
  [1956, 1993],
  [1931, 1986],
  [1988, 2049],
  [1909, 1969],
  [1926, 1974],
  [1957, 2006],
  [1978, 2027],
  [1924, 1973],
  [1950, 1976],
  [1932, 1972],
  [1951, 2021],
  [1991, 2041],
  [1983, 2003],
  [1898, 1937],
  [1936, 1990],
  [1960, 2009],
  [1908, 1952],
  [1954, 1995],
  [1933, 1969],
  [1902, 1929],
  [1934, 1999],
  [1916, 1947],
  [1946, 2009],
  [1957, 2014],
  [1947, 1988],
  [1918, 1970],
  [1896, 1940],
  [1972, 2038],
  [1937, 1976],
  [1975, 2043],
  [1912, 1943],
  [1943, 1983],
  [1953, 1982],
  [1944, 1971],
  [1925, 1947],
  [1984, 2038],
  [1951, 1992],
  [1943, 1988],
  [1977, 2011],
  [1941, 1993],
  [1974, 2008],
  [1953, 2018],
  [1936, 1975],
  [1967, 2018],
  [1915, 1966],
  [1948, 2010],
  [1926, 1977],
  [1927, 1950],
  [1964, 2005],
  [1964, 2003],
  [1991, 2038],
  [1936, 1988],
  [1981, 2009],
  [1982, 2004],
  [1940, 1973],
  [1917, 1984],
  [1925, 1962],
  [1916, 1972],
  [1913, 1945],
  [1946, 1978],
  [1960, 2029],
  [1981, 2049],
  [1974, 2024],
  [1955, 2000],
  [1909, 1969],
  [1974, 2037],
  [1975, 2044],
  [1908, 1957],
  [1966, 2033],
  [1939, 1964],
  [1967, 2003],
  [1902, 1934],
  [1946, 1988],
  [1919, 1961],
  [1965, 1997],
  [1908, 1941],
  [1939, 1979],
  [1904, 1946],
  [1905, 1950],
  [1975, 2028],
  [1904, 1945],
  [1930, 1975],
  [1949, 2003],
  [1900, 1942],
  [1964, 2015],
  [1932, 1990],
  [1901, 1945],
  [1911, 1948],
  [1934, 1968],
  [1987, 2011],
  [1930, 1980],
  [1914, 1977],
  [1959, 2019],
  [1934, 1954],
  [1896, 1927],
  [1972, 2014],
  [1930, 1997],
  [1933, 1986],
  [1942, 1975],
  [1987, 2022],
  [1906, 1940],
  [1985, 2030],
  [1957, 2010],
  [1948, 2002],
  [1991, 2061],
  [1984, 2045],
  [1954, 1979],
  [1968, 2006],
  [1913, 1962],
  [1934, 1979],
  [1907, 1966],
  [1930, 1978],
  [1914, 1949],
  [1967, 2027],
  [1984, 2005],
  [1981, 2015],
  [1929, 1977],
  [1991, 2013],
  [1962, 2030],
  [1915, 1949],
  [1957, 2003],
  [1978, 2048],
  [1966, 1991],
  [1946, 2015],
  [1908, 1977],
  [1969, 1995],
  [1899, 1964],
  [1950, 1974],
  [1906, 1956],
  [1902, 1944],
  [1985, 2013],
  [1989, 2037],
  [1990, 2016],
  [1907, 1969],
  [1922, 1954],
  [1947, 1986],
  [1981, 2013],
  [1963, 2023],
  [1978, 2037],
  [1942, 2002],
  [1924, 1947],
  [1956, 2006],
  [1903, 1950],
  [1986, 2046],
  [1955, 2016],
  [1928, 1951],
  [1957, 2021],
  [1959, 2009],
  [1968, 2010],
  [1955, 1993],
  [1937, 1968],
  [1913, 1940],
  [1954, 1995],
  [1914, 1950],
  [1912, 1935],
  [1909, 1945],
  [1964, 2017],
  [1968, 2029],
  [1944, 1990],
  [1970, 2031],
  [1960, 2016],
  [1980, 2044],
  [1939, 1963],
  [1986, 2007],
  [1962, 2000],
  [1904, 1949],
  [1919, 1981],
  [1937, 1994],
  [1900, 1920],
  [1896, 1962],
  [1929, 1972],
  [1940, 2001],
  [1990, 2020],
  [1975, 2018],
  [1985, 2040],
  [1990, 2029],
  [1965, 1999],
  [1991, 2036],
  [1945, 1984],
  [1937, 2000],
  [1991, 2013],
  [1931, 1976],
  [1970, 2036],
  [1920, 1974],
  [1950, 1997],
  [1914, 1960],
  [1962, 1989],
  [1901, 1921],
  [1918, 1948],
  [1989, 2040],
  [1986, 2043],
  [1988, 2041],
  [1937, 1985],
  [1914, 1942],
  [1970, 1990],
  [1952, 1976],
  [1926, 1982],
  [1975, 2025],
  [1951, 1995],
  [1943, 1999],
  [1934, 1974],
  [1986, 2045],
  [1900, 1961],
  [1921, 1970],
  [1927, 1984],
  [1897, 1965],
  [1908, 1967],
  [1943, 1986],
  [1982, 2013],
  [1906, 1947],
  [1898, 1937],
  [1990, 2016],
  [1929, 1970],
  [1905, 1934],
  [1903, 1929],
  [1932, 1990],
  [1941, 1975],
  [1917, 1961],
  [1953, 2013],
  [1900, 1923],
  [1958, 1998],
  [1945, 2012],
  [1905, 1962],
  [1972, 2021],
  [1977, 2027],
  [1952, 1993],
  [1955, 1976],
  [1899, 1929],
  [1933, 1990],
  [1900, 1937],
  [1901, 1927],
  [1958, 1980],
  [1961, 2004],
  [1902, 1934],
  [1980, 2032],
  [1916, 1952],
  [1902, 1963],
  [1978, 2019],
  [1929, 1966],
  [1920, 1988],
  [1932, 1982],
  [1946, 1979],
  [1976, 2007],
  [1927, 1983],
  [1947, 2016],
  [1984, 2030],
  [1936, 1996],
  [1952, 1995],
  [1979, 2041],
  [1945, 2002],
  [1972, 2010],
  [1967, 1988],
  [1966, 2022],
  [1912, 1966],
  [1898, 1957],
  [1902, 1963],
  [1971, 2036],
  [1982, 2025],
  [1908, 1969],
  [1980, 2046],
  [1955, 1978],
  [1914, 1960],
  [1980, 2012],
  [1950, 1971],
  [1945, 1992],
  [1924, 1980],
  [1914, 1936],
  [1954, 2022],
  [1939, 1988],
  [1953, 1984],
  [1983, 2049],
  [1966, 2033],
  [1986, 2038],
  [1926, 1974],
  [1975, 2011],
  [1965, 2001],
  [1969, 1994],
  [1986, 2038],
  [1925, 1976],
  [1914, 1959],
  [1963, 2015],
  [1971, 2013],
  [1946, 1975],
  [1953, 2022],
  [1941, 1970],
  [1962, 2008],
  [1977, 2033],
  [1942, 1979],
  [1906, 1943],
  [1941, 1961],
  [1899, 1968],
  [1938, 1962],
  [1960, 2029],
  [1980, 2011],
  [1978, 2008],
  [1967, 2013],
  [1943, 1969],
  [1988, 2053],
  [1920, 1981],
  [1983, 2027],
  [1924, 1951],
  [1969, 1996],
  [1911, 1945],
  [1932, 1966],
  [1928, 1956],
  [1970, 1999],
  [1957, 1989],
  [1906, 1962],
  [1989, 2022],
  [1896, 1925],
  [1912, 1960],
  [1917, 1979],
  [1946, 2013],
  [1946, 1969],
  [1942, 2003],
  [1961, 1997],
  [1975, 2027],
  [1913, 1938],
  [1938, 1997],
  [1964, 1988],
  [1933, 1961],
  [1961, 2005],
  [1939, 1961],
  [1928, 1994],
  [1949, 1987],
  [1920, 1954],
  [1916, 1939],
  [1935, 1980],
  [1906, 1929],
  [1940, 1999],
  [1977, 1997],
  [1901, 1951],
  [1942, 1974],
  [1943, 1976],
  [1982, 2039],
  [1948, 1975],
  [1990, 2010],
  [1970, 1992],
  [1943, 1977],
  [1974, 2035],
  [1937, 1958],
  [1948, 2014],
  [1902, 1927],
  [1943, 2008],
  [1978, 2011],
  [1966, 2022],
  [1991, 2020],
  [1912, 1961],
  [1985, 2026],
  [1941, 2007],
  [1968, 1998],
  [1951, 1975],
  [1914, 1941],
  [1944, 1972],
  [1952, 1989],
  [1974, 2023],
  [1981, 2037],
  [1952, 1990],
  [1914, 1978],
  [1954, 2012],
  [1948, 1986],
  [1937, 1995],
  [1920, 1969],
  [1903, 1952],
  [1962, 1987],
  [1938, 1972],
  [1950, 1990],
  [1975, 1996],
  [1917, 1965],
  [1918, 1965],
  [1989, 2028],
  [1943, 1990],
  [1973, 2032],
  [1900, 1948],
  [1981, 2004],
  [1945, 1984],
  [1930, 1975],
  [1902, 1927],
  [1953, 1981],
  [1922, 1958],
  [1945, 2013],
  [1971, 2007],
  [1901, 1938],
  [1954, 1995],
  [1936, 2004],
  [1915, 1943],
  [1914, 1963],
  [1901, 1961],
  [1960, 2019],
  [1906, 1963],
  [1985, 2046],
  [1949, 2015],
  [1946, 2013],
  [1910, 1937],
  [1912, 1967],
  [1966, 2023],
  [1921, 1988],
  [1983, 2025],
  [1934, 1980],
  [1991, 2043],
  [1916, 1966],
  [1937, 1979],
  [1913, 1941],
  [1899, 1948],
  [1960, 2029],
  [1936, 1962],
  [1956, 2020],
  [1908, 1946],
  [1973, 2014],
  [1923, 1955],
  [1966, 2009],
  [1931, 1993],
  [1900, 1970],
  [1972, 2039],
  [1933, 1997],
  [1912, 1954],
  [1955, 1991],
  [1921, 1944],
  [1896, 1943],
  [1936, 1970],
  [1914, 1968],
  [1964, 1985],
  [1904, 1934],
  [1969, 2028],
  [1939, 1978],
  [1905, 1958],
  [1939, 1993],
  [1953, 2010],
  [1910, 1954],
  [1978, 2011],
  [1943, 1966],
  [1990, 2024],
  [1944, 1977],
  [1915, 1938],
  [1955, 2006],
  [1935, 1991],
  [1983, 2007],
  [1961, 2031],
  [1947, 1994],
  [1930, 1997],
  [1916, 1963],
  [1909, 1954],
  [1952, 1986],
  [1920, 1952],
  [1903, 1971],
  [1923, 1979],
  [1929, 1963],
  [1936, 1972],
  [1920, 1956],
  [1961, 2019],
  [1932, 1965],
  [1983, 2018],
  [1986, 2026],
  [1921, 1956],
  [1922, 1965],
  [1978, 2047],
  [1900, 1959],
  [1897, 1927],
  [1991, 2019],
  [1943, 1995],
  [1929, 1949],
  [1900, 1957],
  [1963, 2021],
  [1925, 1946],
  [1948, 2005],
  [1946, 1983],
  [1948, 1970],
  [1924, 1972],
  [1977, 2003],
  [1913, 1935],
  [1979, 2020],
  [1968, 2001],
  [1969, 1991],
  [1985, 2015],
  [1900, 1935],
  [1904, 1958],
  [1960, 1992],
  [1944, 1994],
  [1974, 2000],
  [1919, 1949],
  [1923, 1985],
  [1977, 2035],
  [1896, 1950],
  [1915, 1969],
  [1930, 1997],
  [1956, 1980],
  [1940, 1989],
  [1933, 1956],
  [1901, 1968],
  [1911, 1955],
  [1933, 1985],
  [1924, 1990],
  [1937, 2007],
  [1923, 1980],
  [1957, 2004],
  [1986, 2055],
  [1951, 1976],
  [1942, 2009],
  [1950, 1997],
  [1986, 2054],
  [1909, 1967],
  [1921, 1991],
  [1941, 1994],
  [1931, 1981]
]

console.log(maxPopulationYear(people))
