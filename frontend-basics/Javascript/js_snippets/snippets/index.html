<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="prism.css"  rel="stylesheet" />
</head>
<body>

<li>Entorno de Desarrollo</li>
<pre class="language-js">
    <code class="language-js">
1.- Visual STUDIO CODE (Configuración Font Size), Tab Size, wordWrap : 'on'
2.- Dependencias: Live Server, Bracket Pair Colorizer,
3.- Emmet
4.- Correr Live Server
5.- Detener Live Server
    </code>
</pre>


<li>Tu Primer Programa en JavaScript</li>
<pre class="language-js">
    <code class="language-js">
&lt;div id="mensaje">&lt;/div>

&lt;script>
    let nombre = prompt('Cual es tu nombre?');

    document.getElementById('mensaje').innerHTML = `bienvenido ${nombre}`;
&lt;/script>
    </code>
</pre>

<li>Agregando JavaScript en HTML</li>
<pre class="language-js">
   <code class="language-js">
// Dentro del HTML de index.html
&lt;script>
    alert("funciona")
&lt;/script>


// crear app.js y enlazar
&lt;script src="app.js">&lt;/script>

// Colocar
alert("funciona");
   </code>
</pre>


<li>La Consola de Chrome</li>
<pre class="language-js">
   <code class="language-js">
// Dentro del HTML de index.html
alert("hola");

// Matematicas
2 + 2

// Document es parte de la ventana global
document

// Puedes seleccionar elementos
document.querySelector('h1');

// Se pueden enviar valores a la consola
Enviar valores a la consola:

console.log("hello world");
console.log(987);
console.log(true);

// Se pueden crear variables e imprimirlas
let hola = "hola amigo";
console.log(hola);

// También se pueden crear arreglos
console.log([1, 2,3,4]);

/ De la misma forma se pueden crear objetos
console.log( let obj = { nombre: "juan", profesion: "Desarrollador Web" });

// También se pueden imprimir resultados como tabla
console.table([1, 2,3,4]);

// o mostrar algún error
console.error("Algo salió mal");

// Limpiar la consola
console.clear();

// O enviar advertencias
console.warn("Eso no esta permitido");

// También monitorear el tiempo que tarda algo en ejecutarse
console.time('Hola');
console.warn("Eso no esta permitido");
console.warn("Eso no esta permitido");
console.warn("Eso no esta permitido");
console.timeEnd('Hola');
   </code>
</pre>

<li>Variables: var, let y const</li>
<pre class="language-js">
   <code class="language-js">
// var, let  const
let nombre = 'Juan';
console.log(nombre);
nombre = 'Pablo';
console.log(nombre);

// Inicializar la variable
let dia;
console.log(dia);
dia = "buenos dias";
console.log(dia);

// Una variable también puede inicializarse así

let producto1 = 'Libro 1',
    producto2 = 'Libro 2';

console.log(equipo1);
console.log(equipo2);

// Pueden tener: letras, numeros, _
// No pueden iniciar con numero
let 99dias;
let dias99;

let _01;
let 01_;

// más de una palabra.
let  firstName = 'Juan Pablo'; // CamelCase
let first_name = 'Juan Pablo'; //underscore
let FirstName = 'Juan Pablo'; // pascal case
let firstname = 'Juan Pablo';


// Let & Const
let nombre;
nombre = 'Juan';
console.log(nombre);
nombre = 'Pablo';
console.log(nombre);

// Const se le debe asignar unv alor
const nombre;

const nombre = 'Juan';
console.log(nombre);

// No se puede reasignar
nombre = 'Pablo';
console.log(nombre);


// Un objeto con constante si se puede cambiar

const auto = {
    nombre: 'Mustang',
    motor: 6.5
}
console.log(auto);

auto.nombre = 'Audi';
console.log(auto);

// Lo mismo pasa con arreglos

const numeros = [1,2,3,4,5];

console.log(numeros);

numeros[3] = 3;
console.log(numeros);

numeros.push(6);
console.log(numeros);

// Lo que no se puede hacer es esto:

numeros = [1,2,3];
    </code>
</pre>




<li>Strings en JavaScript</li>
<pre class="language-js">
   <code class="language-js">
// Comillas.
nombre = 'Juan Pablo';
nombre = "Juan Pablo";
nombre = 'Juan Pablo";
nombre = 'Y entonces dije, \'buen curso\' ';
nombre = 'Y entonces dije, \'buen curso\' ';

// Concatenar un STRING

nombre = 'J' + 'A' + 'V' + 'A' + 'S' + 'C' + 'R' + 'I' + 'P' + 'T';

// Concatenar 2 variables de strings.

let aprendiendo = 'Aprendiendo',
    tecnologia = 'JavaScript';

console.log(aprendiendo + ' ' + tecnologia);

    </code>
</pre>


<li>Métodos para Strings</li>
<pre class="language-js">
   <code class="language-js">
let banda = "Metallica";
let cancion = "Enter Sandman";

let nombre;

nombre = banda + cancion;

// Concatenación
nombre = banda + ": " + cancion;

// Juntar
// nombre = 'Juan Pablo ';
// nombre += 'De la torre';

nombre = cancion + " es una cancion de " + banda;

// length
nombre = nombre.length ;

// concat
nombre = nombre.concat(" ", "y es  genial");

// mayusculas
nombre = nombre.toUpperCase();
// minusculas
nombre = nombre.toLowerCase();

// indexOf // indexof -1 es que no existe
nombre = nombre.indexOf('metallica');

// substring()
nombre = nombre.substring(2,10);

// slice()
Con negativo inicia de atras hacia adelante

// probar 0,4 y -3
 nombre = nombre.slice(-3);

// Split
let actividad = 'Estoy aprendiendo Javascript Moderno';

nombre = actividad.split(" ");

let hobbies = 'Leer, caminar, escuchar musica, escribir, aprender a programar';

nombre = hobbies.split(", ");

// Replace.
nombre = nombre.replace('enter sandman', 'Nothing else matters');

// includes
nombre = nombre.includes('metallica');

// repetir
let saludo =  "hola ";
    nombre = saludo.repeat(3);

console.log(nombre);
    </code>
</pre>

<li>Números en JavaScript</li>
<pre class="language-js">
   <code class="language-js">
const numero1 = 30;
const numero2 = 20;
const numero3 = 20.20;
const numero4 = .10213;
const numero5 = -3;

console.log(numero1);

let resultado;

// Suma
resultado = numero1 + numero2;
// Resta
resultado = numero1 - numero2;
// Mult
resultado = numero1 * numero2;
// Division
resultado = numero1 / numero2;
// Modulo
resultado = numero1 % numero2;
// Pi
resultado = Math.PI;
// redondeo
resultado = Math.round(2.5);
// redondeo abajo o arriba (ceil o floor )
resultado = Math.ceil(2.2);
// Raiz cuadrada
resultado = Math.sqrt(144);
// Abssoluto
resultado = Math.abs(-300);
// Potencia
resultado = Math.pow(8, 3);
// Minimo
resultado = Math.min(3,5,1,2,9,4,2, -3);
// Max
resultado = Math.max(4,1,21,4,15,5,11,5);
// Aleatorio
resultado = Math.random();
// Aleatorio dentro de un rango:
resultado =  Math.floor( Math.random() * 30 );
// El orden de las operaciones

resultado = 20 + 30 * 2;
resultado =  ( 20 + 30 ) * 2;

// 20% De descuento en un carrito de compra.
resultado = ( 20+10+30+40+50 ) * .20;

console.log(resultado);

// Incluir incremento por 1 y menos 1

let puntaje = 5;
numero++;
numero--;
++numero;
--numero;

puntaje += 3;
puntaje -= 3;
    </code>
</pre>



<li>Tipos de Datos en JavaScript</li>
<pre class="language-js">
   <code class="language-js">

// Javascript es un lenguaje de tIpo Dinamico,
// No se especifican tipos de datos cuando
// se crea la variable

// Los tipos se guardan en el valor, no en la variable.

// La misma variable puede tener distintos tipos de datos

// Otros lenguajes debes definir el tipo de variable (C#, JAVA, C )

// TypeScript permite añadir esta funcionalidad

// TypeOf

const nombre = "Juan";
console.log(typeof nombre );

// Numero
const edad = 20;
console.log(typeof edad );
const edad = "20";
console.log(typeof edad );

// Boolean
let aprendiendoJs = true;
console.log(typeof aprendiendoJs );

// Null
// Retonará Objeto
let hijos = null;
console.log(typeof hijos );

// Undefined
let inteligencia_epn;
console.log(typeof inteligencia_epn );

// Symbol (ES6)
let simbolo = Symbol('Simbolo');
console.log(typeof simbolo);

// De Referencia
// Reference (Objetos)
// Arreglos
let lenguajes = ['HTML5', 'JS', 'PHP'];
console.log(typeof lenguajes);

// Objetos
let persona = {
    nombre: 'Juan',
    ciudad: 'mexico'
}
console.log(typeof persona);

// Fechas
let fecha = new Date();
console.log(typeof fecha);

    </code>
</pre>

<li>Comparación</li>
<pre class="language-js">
   <code class="language-js">
console.log( 1 > 2);

console.log( 1 < 2);

console.log('a' < 'b');

console.log('a' > 'b' );

console.log('Z' < 'a');

console.log(2 == '2');

console.log(2 === '2');

console.log( 2 == 3);
console.log( 2 != 2);
console.log('hola' != ' hola');

console.log(null == undefined);
console.log(null === undefined);


    </code>
</pre>

<li>Convirtiendo Números</li>
<pre class="language-js">
   <code class="language-js">
let numero1 = "50",
    numero2 = 10,
    numero3 = 'tres';


console.log(numero1 + numero2);

console.log(Number(numero1) + numero2);
console.log(parseInt(numero1) + numero2);


console.log(numero1 + numero2);
console.log(numero1 - numero2);



// Otras conversiones

let dato = "20";
dato = Number("20");
dato = Number("20.20102");
dato = Number(true);
dato = Number(false);
dato = Number(null);
dato = Number("hola Mund");
dato = Number([1,2,3,4]);

// ParseInt y ParseFloat
dato = parseInt("100");
dato = parseInt("100.20");
dato = parseFloat("100.20");


console.log(dato);
console.log(typeof dato);


// ToFixed solo aplica en numeros
let numero1 = "1209139";
let numero2 = 1209139.101213;
console.log(numero1.toFixed(4) );
console.log(numero2.toFixed(4) );

   </code>
</pre>


<li>Convirtiendo a Strings</li>
<pre class="language-js">
   <code class="language-js">
// Numeros a string

let dato = 90210;
dato = String(dato);

dato = 4+4;
dato = "4" + "4";


console.log(dato);
console.log(dato.length);
console.log(typeof dato);


// Bool a string

dato = true;
dato = String(true);


// Fecha a string
dato = new Date();
dato = String( new Date() );

// Arreglo a String

dato = String( [1,2,3,4] );

// toString()

dato = 20;
dato = true;
dato = [1,2,3,4];
// Null no puede convertirse ya que es un valor que no existe
dato = null;


dato = dato.toString();

    </code>
</pre>

<li>Template Literals</li>
<pre class="language-js">
   <code class="language-js">

const producto1 = 'Pizza';
const precio1 = 30;
const producto2 = 'Hamburguesa';
const precio2 = 40;

let html;
// Método viejo
html  = '&lt;ul>'+
        '&lt;li>Orden: ' + producto1 + '&lt;/li>' +
        '&lt;li>Precio: $ ' + precio1 + '&lt;/li>' +
        '&lt;li>Orden: ' + producto2 + '&lt;/li>' +
        '&lt;li>Precio: $ ' + precio2 + '&lt;/li>' +
        '&lt;li>Total: $' + (precio1 + precio2) + '&lt;/li>';
        '&lt;/ul>';

// Con template Strings.

html = `
    &lt;ul>
        &lt;li>Orden: ${producto1}&lt;/li>
        &lt;li>Precio: ${precio1}&lt;/li>
        &lt;li>Orden: ${producto2}&lt;/li>
        &lt;li>Precio: ${precio2}  &lt;/li>
        &lt;li>Total: ${total(precio1, precio2)}&lt;/li>
    &lt;/ul>
`;

function total(param1, param2) {
    return param1 + param2;
}


let app = document.querySelector('#app');
app.innerHTML = html ;
    </code>
</pre>

<li>Arreglos</li>
<pre class="language-js">
   <code class="language-js">
// Crear un arreglo
const numeros = [10,20,30,40,50];
console.log(numeros);

// Arreglo de strings con meses
const meses = new Array('Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio');
console.log(meses);

// Arreglo de todo mezclado
const deTodo = ["Hola", 10, true, "si", null];
console.log(deTodo);

// Saber cuantos elementos hay un array.
console.log(meses.length);

// saber si es un arreglo
let nombre = 'Juan';
console.log(Array.isArray(nombre));

// Acceder a un elemento del arreglo
console.log(meses[3]);

// Añadir al arreglo
meses[3] = 'Diciembre';
console.log(meses);

// Encontrar un valor en el arreglo
console.log(meses.indexOf('Diciembre'));

// Agregar algo al arreglo al final
meses.push('Noviembre');

// añade al principio
meses.unshift('Mes 0');

// Eliminar del final
meses.pop();

// Eliminar del principio
meses.shift();

// Quitar un rango
meses.splice(0,2);

// Reverse
meses.reverse();
console.log(meses);

// unir un arreglo a otro
let arreglo1 = [1,2,3];
let arreglo2 = [9,8,7];
console.log(arreglo1.concat(arreglo2));

// ordenar
let frutas = ['Platano', 'Manzana', 'Fresa', 'Naranja'];

frutas.sort();

console.log(frutas);

// Ordenar numeros;
arreglo1 = [1,3,100,4,6,7,3,2,14,67];

// Ordenar de menor a mayor
arreglo1.sort(function(x, y) {
    return x - y;
});

// Ordenar de mayor a menor
arreglo1.sort(function(x, y) {
    return y - x;
});


console.log(arreglo1);
    </code>
</pre>

<li>Arreglos</li>
<pre class="language-js">
   <code class="language-js">
// Crear un Objeto
const persona = {
    nombre: 'Juan',
    apellido: 'De la torre',
    profesion: 'Desarrollador Web',
    email: 'correo@correo.com'
}

// Un arreglo más completo y puede tener de todo:
const persona = {
    nombre: 'Juan',
    apellido: 'De la torre',
    profesion: 'Desarrollador Web',
    edad: 30,
    email: 'correo@correo.com',
    musica: ['Trance', 'Rock', 'Grunge'],
    hogar: {
        ciudad: 'Guadalajara',
        pais: 'Mexico'
    },
    fechaCumple: function() {
        return new Date().getFullYear() - this.edad;
    }
}

let valor;

// ACCEDER A UN VALOR
valor = persona.nombre;

// otra forma de acceder al valor
valor = persona['profesion'];

// acceder a la edad
valor = persona.edad;

// acceder a la musica
valor = persona.musica;
valor = persona.musica[1];

// acceder al objeto
valor = persona.hogar.ciudad;

// Otra forma aunque menos utilizada
valor = persona['hogar']['pais'];

// acceder a la funcion
valor = persona.fechaCumple();

console.log(valor);


// Arreglo de Objetos
let autos = [
    {modelo: 'Mustang', motor: 6.0},
    {modelo: 'Camaro', motor: 6.1},
    {modelo: 'Challenger', motor: 6.1},
];

for(let i = 0; i < autos.length; i++) {
    console.log(autos[i].modelo);
}
    </code>
</pre>


<li>Funciones</li>
<pre class="language-js">
   <code class="language-js">

// Function Declaration
function saludar() {
    console.log('Hola!!');
}

// Debemos esperar hasta llamarla
saludar();


// Una función tambien se le pueden pasar argumentos
function saludar(nombre, apellido) {
    return `Hola ${nombre}  ${apellido} `;
}
console.log( saludar('Pablo', 'De la torre') );


// Valores por default (Forma anterior)
function saludar(nombre, apellido) {
    if(typeof nombre === 'undefined') {nombre = 'Juan'}
    if(typeof apellido === 'undefined') {apellido = 'de la torre'}
    return `Hola ${nombre}  ${apellido} `;
}
console.log( saludar('Pablo') );


// Valores por default (Forma nueva con eS6)
function saludar(nombre = 'Juan' , apellido = 'de la torre') {
    return `Hola ${nombre}  ${apellido} `;
}
console.log( saludar('Pablo') );


// Function expressions
const suma = function(a = 5, b = 2) {
    return a + b;
};

console.log(suma(4, 8));
console.log(suma(14, 18));
console.log(suma(24, 28));
console.log(suma());


// Funciones que se declaran y se invocan (IIFEs)
// immediately-invoked function expression
(function() {
    console.log('IIFES!!');
})();

// Pasarle parametros
(function(tecnologia) {
    console.log('Aprendiendo ' + tecnologia);
})('JavaScript');

// Métodos de propiedad
// Cuando una función se pone dentro de un objeto es un método
const musica = {
    reproducir: function(id) {
        console.log(`Reproduciendo canción id ${id}`);
    },
    pausar: function() {
        console.log('Pause.');
    }
}
musica.reproducir(30);
musica.pausar();

// Tambien los métodos pueden quedarse por fuera
musica.borrar = function(id) {
    console.log(`Borrando canción con id: ${id}`)
}
musica.borrar(20);


// Otras funciones ya existentes

console.log();
alert();
prompt();
confirm();
    </code>
</pre>


<li>Fechas en JavaScript</li>
<pre class="language-js">
   <code class="language-js">
// En javascript hay un objeto llamado Date
const diaHoy = new Date();
let valor;

// Date es Mes, dia y año
let cumple = new Date('1-5-1987');
cumple = new Date('January 5 1987');

// .toString lo cambiaria de object a string
valor = cumple;

valor = diaHoy.getMonth();
valor = diaHoy.getDate();
valor = diaHoy.getDay();
valor = diaHoy.getFullYear();
valor = diaHoy.getMinutes();
valor = diaHoy.getHours();
valor = diaHoy.getTime();
valor = diaHoy.getFullYear();
valor = diaHoy.setFullYear(2018);

console.log(valor);
    </code>
</pre>

<li>Estructuras de Control IF, IF ELSE, ELSE, OR  y &&</li>
<pre class="language-js">
   <code class="language-js">
// Operador if
const puntaje = '1000';

// es igual
if(puntaje == 1000) {
    console.log("Si es igual!");
} else {
    console.log("No no es igual");
}

// No es igual
if(puntaje != 1000) {
    console.log("Si! es diferente!");
}  else {
    console.log("No, no es diferente");
}
// comparador estricto de tipo y valor
if(puntaje === 1000) {
    console.log("Si es igual!");
} else {
    console.log("No no es igual");
}

// comparador estricto de tipo y valor
if(puntaje !== 1000) {
    console.log("Si es DIFERENTE (ESTRICTO) !");
} else {
    console.log("No no es igual");
}


// Comprobar que una variable tiene un valor
const puntaje = 1000;

if(puntaje) {
    console.log(`el puntaje es de ${puntaje}`);
} else {
    console.log('No hay puntaje');
}

// Comprobar que la variable existe
if(typeof puntaje != 'undefined' ) {
    console.log(`el puntaje es de ${puntaje}`);
} else {
    console.log('No hay puntaje');
}

// Algunos signos son < > también >=   <=
let dinero = 500;
let totalCarrito = 300;

if( dinero > totalCarrito ) {
    console.log('Pago Correcto');
} else {
    console.log('Fondos Insuficientes');
}

// También puede ser sin llaves
let dinero = 500;
let totalCarrito = 300;

if( dinero > totalCarrito )
    console.log('Pago Correcto');
else
    console.log('Fondos Insuficientes');



// else if
let hora = 20;
if(hora <= 10) {
    console.log('Buenos dias');
} else if(hora <= 18) {
    console.log('buenas tardes');
} else {
    console.log('buenas noches');
}

let hora = 25;
// Operador &&
if(hora > 0 && hora <= 12 ) {
    console.log('Buenos dias');
}  else if( hora > 12 && hora <= 18) {
    console.log('Buenas Tardes')
} else if( hora > 18 && hora <= 24) {
    console.log('Buenas Noches');
} else {
    console.log('Hora no valida');
}

// operador || OR
let efectivo = 300;
let credito = 300;
let totalCarrito = 700;

if(totalCarrito < efectivo || totalCarrito < credito ) {
    console.log('Puedes pagar con efectivo o credito');
} else {
    console.log('No puedes pagar');
}

// operador ||
let efectivo = 300;
let credito = 400;
let disponible = efectivo + credito;
let totalCarrito = 700;

if(efectivo > totalCarrito || credito > totalCarrito ) {
    console.log('Puedes pagar con efectivo o credito');
} else if(disponible >= totalCarrito) {
    console.log('Paga con ambos');
} else {
    console.log('No puedes pagar');
}


// Ternary

let logueado = false;

console.log( logueado === true ? 'Si se logueo' : 'No se logueo' );

    </code>
</pre>

<li>Switches</li>
<pre class="language-js">
   <code class="language-js">
const metodoPago = 'efectivo';

switch(metodoPago) {
    case 'efectivo':
        console.log(`Pagaste con ${metodoPago}`);
        break;
    case 'cheque':
        console.log(`Pagaste con ${metodoPago} revisaremos que tenga fondos primero`);
        break;
    case 'tarjeta':
        console.log(`Pagaste con ${metodoPago} espere un momento...`);
        break;
    default:
        console.log('Aún no has pagado');
        break;
}

// Asignar variable en swich case:
let mes;
switch(new Date().getMonth()) {
    case 0:
        mes = 'Enero';
        break;
    case 1:
        mes = 'Febrero';
        break;
    case 2:
        mes = 'Marzo';
        break;
    case 3:
        mes = 'Abril';
        break;
    case 4:
        mes = 'Mayo';
        break;
    case 5:
        mes = 'Junio';
        break;
    case 6:
        mes = 'Julio';
        break;
    case 7:
        mes = 'Agosto';
        break;
    case 8:
        mes = 'Septiembre';
        break;
    case 9:
        mes = 'Octubre';
        break;
    case 10:
        mes = 'Noviembre';
        break;
    case 11:
        mes = 'Diciembre';
        break;
}
console.log(`Este mes es ${mes}`);
    </code>
</pre>

<li>For Loops</li>
<pre class="language-js">
   <code class="language-js">
// Loops, corren hasta que una condicion se cumple

// For loop
for(let i = 0; i <= 10; i++) {
    console.log(`Numero:  ${i} `);
}

// Interceptar el 2
for(let i = 0; i <= 10; i++) {
    if(i == 2) {
        console.log('siii!!! 2!!!!');
        // con o sin continue;
        continue;
    }
    console.log(`Numero:  ${i} `);
}

// Romper el ciclo en 2
for(let i = 0; i <= 10; i++) {
    if(i == 2) {
        console.log('siii!!! 2!!!!');
        break;
    }
    console.log(`Numero:  ${i} `);
}

// Numero par o impar
for(let i = 0; i <= 10; i++) {
    if(i % 2 == 0) {
        console.log(`Numero ${i} ES PAR `);
    } else {
        console.log(`Numero ${i} ES IMPAR `);
    }
}
    </code>
</pre>

<li>While y Do while</li>
<pre class="language-js">
   <code class="language-js">
let i = 0;

while(i < 10) {
    console.log(`Numero: ${i}`);
    i++;
}



// Do While va a correr al menos una vez.
let i = 0; // probar con 1000

do {
    console.log(`Numero: ${i}`)
    i++;
} while( i < 10);

    </code>
</pre>

<li>Iterar un arreglo (con for, foreach y MAP)</li>
<pre class="language-js">
   <code class="language-js">
// Recorrer un arreglo
let pendientes = ['Tarea', 'Comer', 'Proyecto', 'Estudiar JavaScript'];

for(let i = 0; i < pendientes.length; i++) {
    console.log(pendientes[i] );
}

// Recorrer por un Foreach
pendientes.forEach(function(pendiente, index) {
    console.log(`${index} : ${pendiente}`);
});

// MAP recorrer arreglo de objetos
const carrito = [
    {id: 1, producto: 'Libro' },
    {id: 2, producto: 'Camisa'},
    {id: 3, producto: 'Disco'}
];

const nombreProducto = carrito.map(function(carrito) {
    return carrito.producto;
});

console.log(nombreProducto);

// Otro método
let automovil = {
    modelo: 'Camaro',
    motor: '6.0',
    anio: '1969',
    marca: 'Chevrolet'
}

for(let auto in automovil) {
    console.log(`${auto} : ${automovil[auto]}`);
}
    </code>
</pre>


<li>Window Object</li>
<pre class="language-js">
   <code class="language-js">
// Window Object
window en la consola


// No es necesario ya que window es el global
window.console.log('hola');
window.alert("alert!");

// Prompt
const nombre = prompt();

// Confirm
if(confirm('Eliminar ?')) {
    console.log('Eliminado')
} else {
    console.log('Nada pasa');
}

// Obtener altura y ancho de la ventana

let altura, ancho;
altura = window.outerHeight;
ancho = window.outerWidth;

// Altura sin la interfaz
altura = window.innerHeight;
ancho = window.innerWidth;


console.log(altura);
console.log(ancho);




// Location
let ubicacion = window.location;
console.log(ubicacion);
console.log(ubicacion.hostname);
console.log(ubicacion.port);

// añadir a la url ?id=20&nombre=juan
console.log(ubicacion.search);
window.location.href = 'http://google.com';

// History Object

window.history.go(-3);
window.history.length;

// Navigator Object
console.lpdog(window.navigator)
console.log(window.navigator.appName);
console.log(window.navigator.appVersion);
console.log(window.navigator.userAgent)
console.log(window.navigator.language)

    </code>
</pre>

<li>Scope</li>
<pre class="language-js">
   <code class="language-js">
let a = "a";
let b = "b";
const c = "c";

// Función
function function_scope() {
    let a = 'A';
    let b = 'B';
    const c = 'C';
    console.log('Function: '+ a,b,c);
}
function_scope();

// Block Scope (if, for, )
if(true) {
    let a = 'AA';
    let b = 'BB';
    const c = 'CC';
    console.log('BLOCK LEVEL: '+ a,b,c);
}

// FOR
for(let a = 0; a < 10; a++) {
    console.log(a);
}
console.log('Global:'+ a,b,c);
    </code>
</pre>

<li>DOM</li>
<pre class="language-js">
   <code class="language-js">


let elemento;

elemento = document;
elemento = document.all;
elemento = document.all[0];
elemento = document.head;
elemento = document.body;
elemento = document.domain;
elemento = document.URL;
elemento = document.characterSet;
elemento = document.contentType;
elemento = document.forms;
elemento = document.forms[0];
elemento = document.forms[0].id;
elemento = document.forms[0].method;
elemento = document.forms[0].action;

elemento = document.links;
elemento = document.links[0].id;
elemento = document.links[0].className;
elemento = document.forms[0].classList;
elemento = document.forms[0].classList[0];

elemento = document.images;

elemento = document.scripts;
elemento = document.scripts[2].getAttribute('src');

// Loop a los scripts
let scripts = document.scripts;
let scriptsArr = Array.from(scripts);

scriptsArr.forEach(function(script) {
    console.log(script);
});

console.log(elemento);
   </code>
</pre>



<li>Seleccionando un Elemento</li>
<pre class="language-js">
   <code class="language-js">
// SELECCIONAR ELEMENTOS DEL DOM
console.log(document.getElementById('encabezado'));

// Obtener datos del elemento
console.log( document.getElementById('encabezado').id );
console.log( document.getElementById('encabezado').className );

// cambiar el CSS
let encabezado = document.getElementById('encabezado');
encabezado.style.background = '#333';
encabezado.style.color = '#FFF';
encabezado.style.padding = '20px';

// Cambiar Contenido
encabezado.textContent = 'Los Mejores Cursos';
// otra forma
encabezado.innerText = 'Los Mejores Cursos';


// Query selector con Id
const encabezado = document.querySelector('#encabezado');


// Query Selector con Clase
const subtitulo = document.querySelector('.subtitulo');

// Query selector con etiqueta
const h1 = document.querySelector('h1');

// si hay distintos solo tomara el primero
// también se puede hacer nesting como css: ul li
let imagenes = document.querySelector('.card img');

console.log(h1.style.color = 'red');

// li:nth-child(3)  o li:last-child  o li:first-child
let enlace = document.querySelector('#principal a:last-child');
let enlace = document.querySelector('#principal a:nth-child(2)');
let enlace = document.querySelector('#principal a:first-child');

   </code>
</pre>

<li>Seleccionando Múltiples Elemento</li>
<pre class="language-js">
   <code class="language-js">
// document.getElementsByClassName

const enlaces = document.getElementsByClassName('enlace');
// console.log(enlaces);
enlaces[0].style.color = 'red';
enlaces[2].textContent = 'Nuevo Enlace';
console.log(enlaces[0]);

// Tambien se pueden mezclar las funciones
const listaEnlaces = document.querySelector('ul').getElementsByClassName('links');

console.log(listaEnlaces);


// document.getElementsByTagName
let enlaces = document.getElementsByTagName('li');
console.log(enlaces[0]);

enlaces[0].style.color = 'red';
enlaces[0].textContent = 'Hola!!';

// Convertir collecion hTML en arreglo
enlaces = Array.from(enlaces);
console.log(enlaces);

enlaces.forEach(function(li) {
    console.log(li.textContent);
});

// document.querySelectorAll
// retorna un nodelist

const enlaces = document.querySelectorAll('nav .enlace');
console.log(enlaces);

enlaces.forEach(function(enlace) {
    console.log(enlace.textContent);
});


const impares = document.querySelectorAll('ul li:nth-child(odd)');


console.log(impares);

liImpar.forEach(function(impar) {
    impar.style.backgroundColor = 'red';
});

const liPares = document.querySelectorAll('ul li:nth-child(even)');

console.log(liPares);


   </code>
</pre>


<li>Recorriendo el DOM (traversing)</li>
<pre class="language-js">
   <code class="language-js">
// Traversing
let elemento;

const enlaces = document.querySelector('nav');
const listaEnlaces = document.querySelector('.enlace');

// Get ChildNodes // Nodelist de todo
elemento = enlaces.childNodes;

// get Children // elementos
elemento = enlaces.children;
// elemento = enlaces.children[0].nodeName;
//  elemento = enlaces.children[0].nodeType;
// 1 = Elemento
// 2 - Atributo
// 3 - Text node
// 8 - Commentario
// 9 - Documento
// 10 doctype

enlaces.children[2].textContent = 'Hola';

// hijo del hijo
elemento = enlaces.children[3].children[0].textContent;

// First Child
elemento = enlaces.lastChild;
elemento = enlaces.lastElementChild;

// Primer Hijo
elemento = enlaces.firstChild;
elemento = enlaces.firstElementChild;

// Contar los elementos
elemento = enlaces.childElementCount;

console.log( elemento ) ;

// Padre
let elemento;
let enlace = document.querySelector('li');

// Parent Node
elemento = enlace.parentNode;
elemento = enlace.parentElement;
elemento = enlace.parentElement.parentElement;

// siBLING (siguiente)
elemento = enlace.nextSibling;
elemento = enlace.nextElementSibling;
elemento = enlace.nextElementSibling.nextElementSibling;

// Siblings (anterior)
elemento = enlace.previousSibling;
elemento = enlace.previousElementSibling;
elemento = enlace.previousElementSibling.previousElementSibling;

console.log(elemento);

</code>
</pre>


<li>Creando Elementos</li>
<pre class="language-js">
   <code class="language-js">
// Crear Elemento
const lista = document.createElement('a');

// Agregar clase
lista.className = 'lista';

// Agregar ID
lista.id = 'nuevo-id';

// Agregar atributo
lista.setAttribute('data-title', 'nuevo-titulo');

// agregar nuevo enlace.
const enlace = document.createElement('a');

// agregar enlace
enlace.className = 'links';

// Agregar href.
enlace.setAttribute('href', '#');

// Agregar Texto y añadirlo.
enlace.appendChild(document.createTextNode('Hello World'));

// agregar a la lista
lista.appendChild(enlace);

// Agregarlo al UL
document.querySelector('#listado').appendChild(lista);

console.log(lista);

   </code>
</pre>

<li>Modificando Elementos</li>
<pre class="language-js">
   <code class="language-js">
// Reemplazar Elementos
const nuevoEncabezado = document.createElement('h2');

// AGREGAR UN ID
nuevoEncabezado.id = 'encabezado';

// Nuevo texto al Encabezado
nuevoEncabezado.appendChild(document.createTextNode('Los Mejores Cursos'));

// Lo que queremos reemplazar.
const anterior = document.querySelector('#encabezado');

// padre
const body = document.querySelector('body');

// Reemplazo, primer parametro el nuevo, segundo el anterior
body.replaceChild(nuevoEncabezado , anterior);

   </code>
</pre>

<li>Eliminar Elementos</li>
<pre class="language-js">
   <code class="language-js">
// Eliminar elemento

const listas = document.querySelectorAll('a');
const navList = document.querySelector('nav');

// Remover uno.
listas[0].remove();

// Eliminar por hijos.
navList.removeChild(listas[2]);

// classes y attributos
const primerLi = document.querySelector('li');
const enlace = primerLi.children[0];

let elemento;

// obtener la clase
elemento = enlace.className;
// obtener dom tokenlist
elemento = enlace.classList;
// aceder a un solo valor
elemento = enlace.classList[0];

// añadir una clase
enlace.classList.add('nueva-clase');

// Eliminar uno
enlace.classList.remove('nueva-clase');

// leer attribute
elemento = enlace.getAttribute('href');
elemento = enlace.setAttribute('href', 'facebook.com');
elemento = enlace.setAttribute('data-enlace', 'si');
elemento = enlace.hasAttribute('data-enlace');
elemento = enlace.removeAttribute('data-enlace');

elemento = enlace;

console.log(elemento);
   </code>
</pre>

<li>Event Listeners (Click)</li>
<pre class="language-js">
   <code class="language-js">
document.querySelector('#vaciar-carrito').addEventListener('click', function(e) {
    e.preventDefault();
    console.log("Funciona");
});


document.querySelector('#vaciar-carrito').addEventListener('click', ejecutarBoton );

function ejecutarBoton(e) {
    e.preventDefault();
    console.log("Aqui vamos");

    // target

    let elemento;
    elemento = e;
    // leer valores.
    elemento = e.target;
    elemento = e.target.id;
    elemento = e.target.className;
    elemento = e.target.innerText;

    elemento = e.target.innerText = 2 + 2;

    console.log(elemento);
}
   </code>
</pre>


<li>Mouse Events</li>
<pre class="language-js">
   <code class="language-js">
const encabezado = document.querySelector('#encabezado');
const enlaces = document.querySelector('nav');
const boton = document.querySelector('#vaciar-carrito');

// click
boton.addEventListener('click', obtenerEvento);

// Doble CLick
boton.addEventListener('dblclick', obtenerEvento);

// Mouse Enter
boton.addEventListener('mouseenter', obtenerEvento);

// mouse Leave
boton.addEventListener('mouseleave', obtenerEvento);

// Mouse over
boton.addEventListener('mouseover', obtenerEvento);

// mouse Out
boton.addEventListener('mouseout', obtenerEvento);

// MouseDown (click y mantener presionado)
boton.addEventListener('mousedown', obtenerEvento);

// Mouse Up (al soltar)
boton.addEventListener('mouseup', obtenerEvento);

// MouseMove
listado.addEventListener('mousemove', obtenerEvento);

function obtenerEvento(e) {
    console.log(`EL EVENTO ES: ${e.type}` );
}
   </code>
</pre>


<li>Mouse Events</li>
<pre class="language-js">
   <code class="language-js">
const formulario = document.getElementById('busqueda');
const busqueda = document.getElementById('submit-buscador');

// esperar a submit
formulario.addEventListener('submit', obtenerEvento);

// Eventos para el INPUT
busqueda.addEventListener('keydown', obtenerEvento);
busqueda.addEventListener('keyup', obtenerEvento);
busqueda.addEventListener('keypress', obtenerEvento);
busqueda.addEventListener('focus', obtenerEvento);
busqueda.addEventListener('blur', obtenerEvento);
busqueda.addEventListener('cut', obtenerEvento);
busqueda.addEventListener('copy', obtenerEvento);
busqueda.addEventListener('paste', obtenerEvento);
busqueda.addEventListener('input', obtenerEvento);

// change es para &lt;select>
 busqueda.addEventListener('change', obtenerEvento);

// FORMULARIO
function obtenerEvento(e) {
    // obtener los datos del formulario
    console.log(busqueda.value);

    console.log(`TIPO: ${e.type}`);
    // formulario.reset();

    e.preventDefault();
}
   </code>
</pre>




<li>Event Bubbling</li>
<pre class="language-js">
   <code class="language-js">
// Event Bubling
const cards =  document.querySelector('.card');
const infoCards = document.querySelector('.info-card');
const agregarCarrito = document.querySelector('.agregar-carrito');

cards.addEventListener('click', function (){
  console.log('click en card');
});

infoCards.addEventListener('click', function (){
  console.log('click en Info');
});

agregarCarrito.addEventListener('click', function (){
    console.log('click en agregar a carrito');
});

// se previene pasando e
e.stopPropagation();
   </code>
</pre>

<li>Delegation</li>
<pre class="language-js">
   <code class="language-js">
// Delegation
document.body.addEventListener('click', eliminarElemento);

function eliminarElemento(e) {
    e.preventDefault();

    console.log(e.target.classList);
    //console.log(e.target.classList.contains( 'borrar-curso') );

    if(e.target.classList.contains(  'borrar-curso') ){
        e.target.parentElement.parentElement.remove();
    }
}
   </code>
</pre>

<li>Local Storage</li>
<pre class="language-js">
   <code class="language-js">
// AÑADIR A LOCAL STORAGE (Revisar en Application en Chrome)
localStorage.setItem('nombre', 'Juan');

// añadir algo a sessionstorage
sessionStorage.setItem('nombre', 'Pablo');

// Remover
localStorage.removeItem('nombre');

// obtener el valor
const nombre = localStorage.getItem('nombre');


// Limpiar todo
localStorage.clear();

console.log(nombre);
   </code>
</pre>


<li>Proyecto: Local Storage con un Formulario</li>
<pre class="language-js">
   <code class="language-js">
// Variables
const listaTweets = document.getElementById('lista-tweets');

eventListeners();
// Event Listeners
function eventListeners() {
    // Cuando se envia el form
    document.querySelector('form').addEventListener('submit', agregarTweet);

    // Borrar Lista Tweets

    listaTweets.addEventListener('click', borrarTweet);
    // Document Ready
    document.addEventListener('DOMContentLoaded', localStorageLoad);


}

// Leer los datos de Local Storage al iniciar
function agregarTweet(e) {
    // Leer el valor del textarea
    const tweet = document.getElementById('tweet').value;
    // crear elemento y añadirle el contenido para añadirlo a la lista
    let li = document.createElement('li');
    li.textContent = tweet;
    listaTweets.appendChild( li );

    // Agregar a Local Storage
    agregarTweetLocalStorage(tweet);

    e.preventDefault();
}
function borrarTweet(e) {
    e.preventDefault();
    if( e.target.className === 'borrar-tweet' ) {
        e.target.parentElement.remove()
    }

    borrarTweetLocalStorage(e.target.parentElement.textContent);
}

// Añadir el tweet a local storage
function agregarTweetLocalStorage(tweet) {
    // tweets de localstorage
    let tweets;
    tweets = obtenerDatosLocalStorage();

    // Añadir el nuevo tweet
    tweets.push(tweet);
    // Convertir a String y agregarlo a Local Storage
    localStorage.setItem('tweets', JSON.stringify(tweets));
    // Alerta de Tweet enviado
    alert('Tweet Enviado');
}

function borrarTweetLocalStorage(tweet) {
    let tweets, tweetBorrar;

    tweets = obtenerDatosLocalStorage();

    tweetBorrar = tweet.substring( 0, tweet.length - 1 );

    tweets.forEach((tweet, index) => {
        if(tweetBorrar == tweet) {
            tweets.splice(index, 1);
        }
    });

    localStorage.setItem('tweets', JSON.stringify(tweets));
}

// Función para leer los datos
function obtenerDatosLocalStorage() {
    let tweets;
    // Revisar valores de localstorage
    if(localStorage.getItem('tweets' ) === null) {
        tweets = [];
    } else {
        tweets = JSON.parse(localStorage.getItem('tweets') );
    }
    return tweets;
}

// Local Storage al cargar la página
function localStorageLoad() {

    let tweets;

    tweets = obtenerDatosLocalStorage();

    // Recorrer Local Storage e imprimir los resultados
    tweets.forEach((tweet) =>  {
        let botonBorrar = document.createElement('a');
        botonBorrar.classList = 'borrar-tweet';
        botonBorrar.textContent = 'X';

        let li = document.createElement('li');
        li.textContent = tweet;
        li.appendChild(botonBorrar);

        listaTweets.appendChild( li );
    });

}
   </code>
</pre>



<li>Proyecto: Agregar Cursos al carrito</li>
<pre class="language-js">
   <code class="language-js">
// Variables
const carrito = document.getElementById('carrito');
const listaCursos = document.querySelector('#lista-carrito tbody');
const cursos = document.querySelector('#lista-cursos');
const vaciarCarritoBtn = document.querySelector('#vaciar-carrito');

// Listeners
cargarEventListeners();

function cargarEventListeners() {
    // Dispara cuando se agrega un curso de "Agregar Cursos"
    cursos.addEventListener('click', comprarCurso);
    // Se dispara cuando se elimina un curso del carrito
    carrito.addEventListener('click', eliminarCurso);
    // cuando vaciamos el carrito
    vaciarCarritoBtn.addEventListener('click', vaciarCarrito);
    // Al cargar, lanzar el evento
    document.addEventListener('DOMContentLoaded', leerLocalStorage);
}

// Funciones
function comprarCurso(e) {
    e.preventDefault();
    if(e.target.classList.contains('agregar-carrito') ){
       const curso = e.target.parentElement.parentElement;
       // Tomar los valores
       leerDatosCurso(curso);
    }
}

function leerDatosCurso(curso) {
    const infoCurso = {
        imagen: curso.querySelector('img').src,
        titulo: curso.querySelector('h4').textContent,
        precio: curso.querySelector('.precio span').textContent,
        id: curso.querySelector('a').getAttribute('data-id')
    }
    insertarCarrito(infoCurso);
}

function insertarCarrito(curso) {
    // Crear un TR
    const row = document.createElement('tr');
    row.innerHTML = `
        &lt;tr>
            &lt;td>
                &lt;img src='${curso.imagen}' width=100>
            &lt;/td>
            &lt;td>${curso.titulo}&lt;/td>
            &lt;td>${curso.precio}&lt;/td>
            &lt;td>&lt;a href="#" class="borrar-curso" data-id="${curso.id}"> X&lt;/a>&lt;/td>
        &lt;/tr>
    `;
    listaCursos.appendChild(row);
    guardarCursoLocalStorage(curso);
}

function eliminarCurso(e) {
    let curso, cursoId;
    if(e.target.classList.contains('borrar-curso')) {
         e.target.parentElement.parentElement.remove();
         curso = e.target.parentElement.parentElement;
         cursoId = curso.querySelector('a').getAttribute('data-id') ;
    }
    eliminarCursoLocalStorage(cursoId);
}

function vaciarCarrito(e) {
    // forma lenta
    // listaCursos.innerHTML = '';

    // Ejemplo 2, más rápido.
    while(listaCursos.firstChild) {
        listaCursos.removeChild(listaCursos.firstChild);
    }

    // Vaciar Local Storage Completo
    vaciarLocalStorage();
}

function guardarCursoLocalStorage(curso) {
    let cursos;
    // Comprobamos si ya hay algo en localstorage, sino lo agregamos
    if(localStorage.getItem('cursos') === null) {
        cursos = [];
    } else {
        cursos = JSON.parse(localStorage.getItem('cursos'));
    }
    // agregamos el curso actual, ya sea el arreglo vacio o a lo existente
    cursos.push(curso);
    // Debido a que localstorage almacena solo strings, lo convertimos.
    localStorage.setItem('cursos', JSON.stringify(cursos) );
}
function eliminarCursoLocalStorage(curso) {
    let cursosLS;

    // Comprobamos si ya hay algo en localstorage, sino lo agregamos
    if(localStorage.getItem('cursos') === null) {
        cursosLS = [];
    } else {
        cursosLS = JSON.parse(localStorage.getItem('cursos'));
    }

    cursosLS.forEach((cursoLS, index) => {
        if(curso == cursoLS.id) {
            cursosLS.splice(index, 1);
        }
    });

    localStorage.setItem('cursos', JSON.stringify(cursosLS));
}
function leerLocalStorage() {
    let cursosLS;

    if(localStorage.getItem('cursos') === null) {
        cursosLS = [];
    } else {
        cursosLS = JSON.parse(localStorage.getItem('cursos'));
    }

    cursosLS.forEach((curso) => {
            // Crear un TR
            const row = document.createElement('tr');
            row.innerHTML = `
                &lt;tr>
                    &lt;td>
                        &lt;img src='${curso.imagen}' width=100>
                    &lt;/td>
                    &lt;td>${curso.titulo}&lt;/td>
                    &lt;td>${curso.precio}&lt;/td>
                    &lt;td>&lt;a href="#" class="borrar-curso" data-id="${curso.id}"> X&lt;/a>&lt;/td>
                &lt;/tr>
            `;
            listaCursos.appendChild(row);
        });
}
function vaciarLocalStorage() {
    localStorage.clear();
}
   </code>
</pre>


<li>PROYECTO: Emails </li>
<pre class="language-js">
   <code class="language-js">
// variables
const email = document.getElementById('email');
const asunto = document.getElementById('asunto');
const mensaje = document.getElementById('mensaje');
const btnEnviar = document.getElementById('enviar');
const formularioEnviar = document.querySelector('#enviar-mail');
const resetBtn = document.querySelector('#resetBtn');

// Event Listeners
eventListeners();

// Funciones
function eventListeners() {
    // Inicio de la APP y desahbilitar Submit
    document.addEventListener('DOMContentLoaded', inicioApp);
    // Campos del formulario
    email.addEventListener('blur', validarCampo);
    asunto.addEventListener('blur', validarCampo);
    mensaje.addEventListener('blur', validarCampo);

    // Boton de enviar y boton de submit
    formularioEnviar.addEventListener('submit', enviarEmail);
    resetBtn.addEventListener('click', resetearFormulario);
}
// inicio de la app
function inicioApp() {
    // Deshabilitar al inicio
    btnEnviar.disabled = true;
}

function validarCampo() {
    let errores;
    // Se valida la longitud del texto y que no este vacio
    validarLongitud(this);
    // opcionalmente se puede validar el mail
    if(this.type == 'email') {
        validarEmail(this);
    }
    // Ambos devuelven errores, así que revisamos que no haya
    errores =  document.querySelectorAll('.error');
    // Recorrido para comprobar que no haya errores
    if( email.value !== '' && asunto.value !== '' && mensaje.value !== '' ) {
        if(errores.length === 0) {
            // Deshabilitar al inicio
            btnEnviar.disabled = false;
        }
    }
}

// Enviar formularios
function enviarEmail(e) {
    // Spinner de Cargar
    let spinner = document.querySelector('#spinner');
    spinner.style.display = 'block';

    // crear imagen
    let enviado = document.createElement('img');
    enviado.src = 'img/mail.gif';
    enviado.style.display = 'block';

    // Ocultar spinner y mostrar gif de enviado
    setTimeout(function() {
        spinner.style.display = 'none';

        document.querySelector('#loaders').appendChild( enviado );

        setTimeout(function() {
            formularioEnviar.reset();
            enviado.remove();
        }, 5000);

    }, 3000 );

    e.preventDefault();
}

// ReseteaR FORMULARIO
function resetearFormulario(e) {
    formularioEnviar.reset();
    e.preventDefault();
}

// Validar longitud
function validarLongitud(campo) {
    if(campo.value.length > 0 ) {
        campo.style.borderBottomColor = 'green';
        campo.classList.remove('error');
    }  else {
        campo.style.borderBottomColor = 'red';
        clase = 'error';
        campo.classList = 'error';
    }
}

// validar mail y que haya algúna arroba
function validarEmail(campo) {
    let mensaje = campo.value
    if( mensaje.indexOf('@') !== -1 ) {
        campo.style.borderBottomColor = 'green';
        campo.classList.remove('error');
    } else {
        campo.style.borderBottomColor = 'red';
        campo.classList = 'error';
    }
}
   </code>
</pre>




<li>Constructor & This</li>
<pre class="language-js">
   <code class="language-js">
// Object Literal
const cliente = {
   nombre: 'Juan',
   saldo: 20000,
   tipoCliente : function() {
          let tipo;

          if(this.saldo > 10000) {
             tipo = 'Gold';
          } else if(this.saldo > 5000) {
             tipo = 'Platinum';
          } else {
             tipo  = 'Normal';
          }
          return tipo;
   }
}
console.log(cliente);

// crear un tipo de cliente con método
function Cliente(nombre, saldo) {
    this.nombre = nombre;
    this.saldo = saldo;
    this.tipoCliente = function() {
        let tipo;

        if(this.saldo > 10000) {
            tipo = 'Gold';
        } else if(this.saldo > 5000) {
            tipo = 'Platinum';
        } else {
            tipo  = 'Normal';
        }
        return tipo;
    }
}

const persona = new Persona('Pedro', 20000);
const persona2 = new Persona('Karen', 6000);

// Acceder al método con
console.log(persona.tipoCliente() );
   </code>
</pre>


<li>Otros Constructores</li>
<pre class="language-js">
   <code class="language-js">
// String
const nombre1 = 'Pedro';
const nombre2 = new String('Pedro');

console.log(typeof nombre1);
console.log(typeof nombre2);

// probar con nombre1 y 2
if(nombre2 === 'Jeff') {
    console.log('Si');
} else {
    console.log('no');
}

// Numeros
const numero1 = 20;
const numero2 = new Number(20);

// boolean
const boolean1 = true;
const boolean2 = new Boolean(true);

// Funciones
const funcion1 = function(a, b) {
    return a + b;
}

const funcion2 = new Function('a','b', 'return 1 + 2');

console.log(funcion2(1, 2));

// Objetos
const persona1 = {nombre: 'Juan'};
const persona2 = new Object({nombre: 'Juan'});

// Arreglos
const arreglo1 = [1,2,3,4];
const arreglo2 = new Array(1,2,3,4);
   </code>
</pre>

<li>ES6 Prototypes</li>
<pre class="language-js">
   <code class="language-js">
// Todos los objetos en javascript tienen un prototype
Object.Prototype
Persona.Prototype


function Cliente(nombre, saldo) {
    this.nombre = nombre;
    this.saldo = saldo;
}

// Calcular Edad
Cliente.prototype.tipoCliente = function() {
    let tipo;
    if(this.saldo > 10000) {
        tipo = 'Gold';
    } else if(this.saldo > 5000) {
        tipo = 'Platinum';
    } else {
        tipo  = 'Normal';
    }
    return tipo;
}

// Otro Prototipo para el nombre completo
Cliente.prototype.nombreClienteSaldo = function() {
    return `Nombre: ${this.nombre}, Saldo ${this.saldo}, Tipo Cliente:  ${this.tipoCliente() } `;
}

Cliente.prototype.retiraSaldo = function(retiro) {
    this.saldo -= retiro;
}

// Instanciarlo
const pedro = new Cliente('Pedro', 6000);

// Acceder a los prototypes
console.log ( pedro.tipoCliente() );

// Un prototype que accede a otros prototypes
console.log ( pedro.nombreClienteSaldo() );

// reescribir un valor
pedro.retiraSaldo(2000);

// comprobar saldo
console.log ( pedro.nombreClienteSaldo()

// revisar que algo exista
console.log(pedro.hasOwnProperty('saldo'));
console.log(pedro.hasOwnProperty('retiraSaldo'));

   </code>
</pre>

<li>Heredando Prototypes</li>
<pre class="language-js">
   <code class="language-js">
function Cliente(nombre, saldo) {
    this.nombre = nombre;
    this.saldo = saldo;
}

// Saludo
Cliente.prototype.imprimirSaldo = function() {
    return `Hola ${this.nombre}, Tu saldo es: ${this.saldo}`;
}

const cliente = new Persona('Juan', 1000);
console.log( cliente.imprimirSaldo() );


// Empresa
function Empresa(nombre, saldo, telefono, tipo) {
    Persona.call(this, nombre, saldo);

    this.telefono = telefono;
    this.tipo = tipo;
}

// Heredar el saludo
Cliente.prototype = Object.create(Persona.prototype);

// hacerlo que retorne el Protoype de Cliente en el constructor
Cliente.prototype.constructor = Cliente;

// Crear cliente
const empresa = new Empresa('Udemy', 1000000, '012345678', 'Educacion');
console.log(empresa);

Empresa.prototype.greeting = function() {
    return `Hola desde Proto Empresa ${this.nombre}, tu saldo es ${this.saldo}`;
}

// Probar el saludo (falla hasta que se hereda)
console.log(empresa.greeting() );


   </code>
</pre>


<li>Object Create</li>
<pre class="language-js">
   <code class="language-js">
// Object Create

const Cliente = {
    imprimirSaldo: function() {
        return `hola ${this.nombre} ${this.saldo}`;
    },
    retiraSaldo: function(newLastName) {
        return this.saldo = newLastName;
    }
}

// Crear el objeto de Mary y añadirle 1000 al saldo
const mary = Object.create(Cliente);
mary.nombre = 'Mary';
mary.saldo = 1000;

// enviar a la consola
console.log(mary);
console.log(mary.imprimirSaldo() );

// Ahora retirar saldo
mary.retiraSaldo(500);

// Otra forma
const juan = Object.create(Persona,  {
    nombre : {value: 'Juan'},
    apellido : {value: 'De la torre'},
    profesion: {value: 30}
});
console.log(juan.greeting() );

   </code>
</pre>



<li>ES6 Classes</li>
<pre class="language-js">
   <code class="language-js">
class Cliente {
    constructor(nombre, apellido, saldo) {
        this.nombre = nombre;
        this.apellido = apellido;
        this.saldo = saldo;
    }

    // cualquier método agregado a la clase será parte del proto
    imprimirSaldo() {
        return `Hola ${this.nombre}, tu saldo es: ${this.saldo}`;
    }

    tipoCliente() {
        let tipo;
        if(this.saldo > 10000) {
            tipo = 'Gold';
        } else if(this.saldo > 5000) {
            tipo = 'Platinum';
        } else {
            tipo  = 'Normal';
        }
        return tipo;
    }

    retiraSaldo(retiro) {
        this.saldo -= retiro;
    }

    static bienvenida(mensaje){
        return `Bienvenido al cajero`;
    }
}

const maria = new Cliente('Maria', 'Perez', 10000);
// acceder a los métodos
console.log(maria.imprimirSaldo() );
console.log(maria.tipoCliente() );

maria.retiraSaldo(6000);
// Revisar nuevamente
console.log(maria.imprimirSaldo() );
console.log(maria.tipoCliente() );

// Error porque no es parte de la instancia
// console.log(maria.bienvenida() );

// Esto si funciona
 console.log(Cliente.bienvenida());
   </code>
</pre>


<li>SubClasses</li>
<pre class="language-js">
   <code class="language-js">
class Cliente {
    constructor(nombre, saldo) {
        this.nombre = nombre;
        this.saldo = saldo;
    }
    // cualquier método agregado a la clase será parte del proto
    imprimirSaldo() {
        return `hola ${this.nombre}, tu saldo es ${this.saldo}`;
    }
    static bienvenida(mensaje){
        return `Bienvenido al cajero para clientes`;
    }
}

class Empresa extends Cliente {
    constructor(nombre, saldo, telefono, tipo) {
        // Va hacia el constructor del padre
        super(nombre, saldo);
        // otros atributos se declaran fuera
        this.telefono = telefono;
        this.tipo = tipo;
    }

    static bienvenida(mensaje){
        return `Bienvenido al cajero para empresas`;
    }
}

const pedro = new Cliente('Pedro', 3000);
console.log(pedro);
console.log(pedro.imprimirSaldo() );

// Heredando y creando una instancia de empresa
const empresa = new Empresa('Empresa1', 10000, 10290193, 'Construccion');

// Debido a que heredamos podemos acceder a imprimirSaldo
console.log(empresa.imprimirSaldo() );

// Acceder al statico sin instanciar de ambos
console.log(Empresa.bienvenida() );
console.log(Cliente.bienvenida() );
   </code>
</pre>

<li>PROYECTO: Cotiza tu Seguro con Prototypes</li>
<pre class="language-js">
   <code class="language-js">
      // Cotiza Constructor
function Seguro(marca, anio, tipo) {
        this.marca = marca;
        this.anio = anio;
        this.tipo = tipo;
}

Seguro.prototype.cotizarSeguro = function(seguro) {
        //console.log(seguro);
        /* Marcas
        1 = americano * 1.15
        2 = asiatico * 1.05
        3 = europeo * 1.35
        */
        let cantidad;
        const base = 2000;
        // Leer la marca.
        marca = seguro.marca;
        switch(marca) {
                case '1':
                        cantidad = base * 1.15
                        break;
                case '2':
                        cantidad = base * 1.05
                        break;
                case '3':
                        cantidad = base * 1.30
                        break;
        }
        // Leer el Año
        anio = seguro.anio;

        // Obtener la diferencia
        const diferencia = new Date().getFullYear() - anio;

        // Cada año de diferencia hay que reducirle un 3% al valor del auto
        cantidad = cantidad - ((diferencia * 3) * cantidad) / 100;

        /*
        si el seguro es básico se multiplica por 30% más
        si es completo 50% más
        */
        tipo = seguro.tipo;

        if(tipo === 'basico') {
                cantidad = cantidad * 1.30;
        } else {
                cantidad = cantidad * 1.50;
        }

        return cantidad;

}



// La interfaz donde se muestra
function Interfaz() {}

Interfaz.prototype.mostrarResultado = function(seguro, total) {
        const resultado = document.getElementById('resultado');

        let marca = seguro.marca;
        switch(marca) {
                case '1':
                        marca = 'Americano';
                        break;
                case '2':
                        marca = 'Asiatico';
                        break;
                case '3':
                        marca = 'Europeo';
                        break;
        }


        // Create TR Eelment
        const div = document.createElement('div');
        // Insertar columns
        div.innerHTML = `
                &lt;p class="header">Tu Resumen:&lt;/p>
                &lt;p>Marca: ${marca}&lt;/p>
                &lt;p>Año: ${seguro.anio}&lt;/p>
                &lt;p>Tipo Seguro: ${seguro.tipo}&lt;/p>
                &lt;p class="total">Total: $ ${total}&lt;/p>
        `;
        resultado.appendChild(div);
}

Interfaz.prototype.mostrarError = function(mensaje) {
        const formulario = document.getElementById('cotizar-seguro');

        // Create TR Eelment
        const div = document.createElement('div');
        div.classList = 'error';
        // Insertar columns
        div.innerHTML = `
                &lt;p>${mensaje}&lt;/p>
        `;

        formulario.insertBefore(div, document.querySelector('.form-group'));

        setTimeout( function() {
                document.querySelector('.error').remove();
        }, 3000 ) ;

}

// Event Listeners

const formulario = document.getElementById('cotizar-seguro');

formulario.addEventListener('submit', function(e) {
        e.preventDefault();

        const marca = document.getElementById('marca')
        const marcaSeleccionada = marca.options[marca.selectedIndex].value;

        const anio = document.getElementById('anio');
        const anioSeleccionado = anio.options[anio.selectedIndex].value;

        const tipo = document.querySelector('input[name="tipo"]:checked').value;


         if(marcaSeleccionada === '' || anioSeleccionado === '' || tipo === '') {
               const interfaz = new Interfaz();
               interfaz.mostrarError('Faltan datos, revisa el formulario y prueba de nuevo');
         }  else {

                // Limpiar mensajes anteriores
                const resultados = document.querySelector('#resultado div');
                if(resultados != null) {
                        resultados.remove();
                }

                // Instanciar el seguro
                const seguro = new Seguro(marcaSeleccionada, anioSeleccionado, tipo);

                 // Cotizar el seguro
                const cantidad = seguro.cotizarSeguro(seguro);

                // Instanciar la interfaz
                const interfaz = new Interfaz();
                interfaz.mostrarResultado(seguro, cantidad);
         }
});


const max = new Date().getFullYear(),
     min = max - 20;

// Generar la lista de los 20 ultimos años
const selectAnios = document.getElementById('anio');
for(let i = max; i > min; i-- ) {
        let opt = document.createElement('option');
        opt.value = i;
        opt.innerHTML = i;
        selectAnios.appendChild(opt);
}

   </code>
</pre>


<li>PROYECTO: Cotiza tu Seguro con Classes</li>
<pre class="language-js">
   <code class="language-js">

// Clase de seguro
class Seguro{
   constructor(marca, anio, tipo) {
      this.marca = marca;
      this.anio = anio;
      this.tipo = tipo;
   }

   cotizarSeguro(seguro) {
        console.log(seguro);
        /* Marcas
        1 = americano * 1.15
        2 = asiatico * 1.05
        3 = europeo * 1.35
        */
        let cantidad, marca, anio, tipo;
        const base = 2000;
        // Leer la marca.
        marca = seguro.marca;
        switch(marca) {
                 case '1':
                         cantidad = base * 1.15
                         break;
                 case '2':
                         cantidad = base * 1.05
                         break;
                 case '3':
                         cantidad = base * 1.30
                         break;
        }
        // Leer el Año
        anio = seguro.anio;

        // Obtener la diferencia
        const diferencia = new Date().getFullYear() - anio;

        // Cada año de diferencia hay que reducirle un 3% al valor del auto
        cantidad = cantidad - ((diferencia * 3) * cantidad) / 100;

        /*
        si el seguro es básico se multiplica por 30% más
        si es completo 50% más
        */
        tipo = seguro.tipo;

        if(tipo === 'basico') {
                 cantidad = cantidad * 1.30;
        } else {
                 cantidad = cantidad * 1.50;
        }

        return cantidad;
   }
}

class Interfaz{

   mostrarResultado(seguro, total) {
      const resultado = document.getElementById('resultado');

      let marca = seguro.marca;
      switch(marca) {
             case '1':
                      marca = 'Americano';
                      break;
             case '2':
                      marca = 'Asiatico';
                      break;
             case '3':
                      marca = 'Europeo';
                      break;
      }


      // Create TR Eelment
      const div = document.createElement('div');
      // Insertar columns
      div.innerHTML = `
             &lt;p class="header">Tu Resumen:&lt;/p>
             &lt;p>Marca: ${marca}&lt;/p>
             &lt;p>Año: ${seguro.anio}&lt;/p>
             &lt;p>Tipo Seguro: ${seguro.tipo}&lt;/p>
             &lt;p class="total">Total: $ ${total}&lt;/p>
      `;
      resultado.appendChild(div);
   }

   mostrarError(mensaje) {
      const formulario = document.getElementById('cotizar-seguro');

        // Create TR Eelment
        const div = document.createElement('div');
        div.classList = 'error';
        // Insertar columns
        div.innerHTML = `
                &lt;p>${mensaje}&lt;/p>
        `;

        formulario.insertBefore(div, document.querySelector('.form-group'));

        setTimeout( function() {
                document.querySelector('.error').remove();
        }, 3000 ) ;

   }
}

// Event Listeners
const formulario = document.getElementById('cotizar-seguro');

formulario.addEventListener('submit', function(e) {
        e.preventDefault();

        const marca = document.getElementById('marca')
        const marcaSeleccionada = marca.options[marca.selectedIndex].value;

        const anio = document.getElementById('anio');
        const anioSeleccionado = anio.options[anio.selectedIndex].value;

        const tipo = document.querySelector('input[name="tipo"]:checked').value;


         if(marcaSeleccionada === '' || anioSeleccionado === '' || tipo === '') {
               const interfaz = new Interfaz();
               interfaz.mostrarError('Faltan datos, revisa el formulario y prueba de nuevo');
         }  else {

                // Limpiar mensajes anteriores
                const resultados = document.querySelector('#resultado div');
                if(resultados != null) {
                        resultados.remove();
                }

                // Instanciar el seguro
                const seguro = new Seguro(marcaSeleccionada, anioSeleccionado, tipo);

                 // Cotizar el seguro
                const cantidad = seguro.cotizarSeguro(seguro);

                // Instanciar la interfaz
                const interfaz = new Interfaz();
                interfaz.mostrarResultado(seguro, cantidad);
         }
});


const max = new Date().getFullYear(),
     min = max - 20;

// Generar la lista de los 20 ultimos años
const selectAnios = document.getElementById('anio');
for(let i = max; i > min; i-- ) {
        let opt = document.createElement('option');
        opt.value = i;
        opt.innerHTML = i;
        selectAnios.appendChild(opt);
}

   </code>
</pre>

<li>PROYECTO: Gasto Semanal</li>
<pre class="language-js">
   <code class="language-js">
// Variables
const presupuestoUsuario = prompt('¿Cual es tu presupuesto Semanal?');
const formulario = document.querySelector('#agregar-gasto');
let cantidadPresupuesto;

// Clase de Presupuesto
class Presupuesto {
    constructor(presupuesto){
        this.presupuesto = Number( presupuesto );
        this.restante = Number( presupuesto );
    }

    // Método para ir restando del presupuesto Actual
    presupuestoRestante(cantidad = 0) {
        return Number( this.restante -= cantidad );
    }

}

// Todo lo relacionado a UI
class Interfaz {
    // Inserta el Presupuesto en el DOM al iniciar
    insertarPresupuesto(cantidad) {
        const presupuestoSpan = document.querySelector('span#total');
        const restante = document.querySelector('span#restante');

        // insertar al html
        presupuestoSpan.innerHTML = `${cantidad}`;
        restante.innerHTML = `${cantidad}`;
    }
    presupuestoRestante(cantidad) {
        const restante = document.querySelector('span#restante');
        // Leemos la cantidad del HTML
        const presupuestoRestante = cantidadPresupuesto.presupuestoRestante(cantidad);

        restante.innerHTML = `${presupuestoRestante}`;
        //this.insertarPresupuesto(presupuestoActualizado);

        this.comprobarPresupuesto();
    }

    comprobarPresupuesto() {
        const presupuestoTotal = cantidadPresupuesto.presupuesto;
        const presupuestoRestante = cantidadPresupuesto.presupuestoRestante();
        // Comprobar 50%
        if( (presupuestoTotal / 4) > presupuestoRestante ) {
            // Añadir la clase danger
            const restante = document.querySelector('.restante');
            restante.classList.remove('alert-success', 'alert-warning');
            restante.classList.add('alert-danger');
        } else if( (presupuestoTotal / 2) > presupuestoRestante) {
            // Añadir la clase warning de bootstrap
            const restante = document.querySelector('.restante');
            restante.classList.remove('alert-success');
            restante.classList.add('alert-warning');
        }
    }

    agregarGastoListado(nombre, cantidad) {
        const gastosListado = document.querySelector('#gastos ul');

        // Crear el li
        const li = document.createElement('li');
        li.className = 'list-group-item d-flex justify-content-between align-items-center';
        // Insertar columns
        li.innerHTML = `
            ${nombre}
            &lt;span class="badge badge-primary badge-pill">$ ${cantidad}&lt;/span>
        `;

        // Insertar al HTML
        gastosListado.appendChild(li);
    }

    imprimirMensaje(mensaje, tipo) {
        const divMensaje = document.createElement('div');
        divMensaje.classList.add('text-center', 'alert');
        if(tipo === 'error') {
            divMensaje.classList.add('alert-danger');
        } else {
            divMensaje.classList.add('alert-success');
        }
        divMensaje.appendChild(document.createTextNode(mensaje));
        document.querySelector('.primario').insertBefore(divMensaje, formulario);

        setTimeout(function() {
                document.querySelector('.primario .alert').remove();
                formulario.reset();
        }, 3000);
    }
}

// Event Listeners
eventListeners();

function eventListeners() {
    // Inicio de la aplicacion
    document.addEventListener('DOMContentLoaded', function() {

        if(presupuestoUsuario === null || presupuestoUsuario === '') {
            window.location.reload();
        } else {
            // Crear el presupuesto
            cantidadPresupuesto = new Presupuesto(presupuestoUsuario);

            // Crear la interfaz e insertarlo
            const ui = new Interfaz();
            ui.insertarPresupuesto(cantidadPresupuesto.presupuesto);
        }

    });
}

formulario.addEventListener('submit', function(e) {
    // Leer datos del presupuesto
    const nombreGasto = document.querySelector('#gasto').value;
    const cantidadGasto = document.querySelector('#cantidad').value;

    // Agregarlo a la interfaz
    const ui = new Interfaz();

    // Comprobar que no esten vacios
    if(nombreGasto === '' && cantidadGasto === '') {
        // 2 Parametros, mensaje y tipo
        ui.imprimirMensaje('Hubo un error', 'error');
    } else {
        ui.agregarGastoListado(nombreGasto, cantidadGasto);
        ui.presupuestoRestante(cantidadGasto);
        ui.imprimirMensaje('Correcto', 'correcto');
    }

} );

   </code>
</pre>

<li>Ejemplo de AJAX</li>
<pre class="language-js">
   <code class="language-js">
document.getElementById('boton').addEventListener('click', cargarDatos);


function cargarDatos() {

    // Crear el objeto xMLHTTPREQUEST
    const xhr = new XMLHttpRequest();

    // abrir la conexión
    xhr.open('GET', 'data.txt', true);

    console.log('Ready States', xhr.readyState)


    xhr.onload = function() {
        if(this.status === 200) {
            document.getElementById('output').innerHTML = `&lt;h1>${this.responseText}&lt;/h1>`;
        }
    }


    /*
    xhr.onreadystatechange = function() {
        console.log('Ready States', xhr.readyState)

        if(this.status === 200 && this.readyState === 4 ) {
            console.log(this.responseText);
        }
        console.log('Ready States', xhr.readyState)
    }
    */
    // se envia
    xhr.onerror = function() {
        console.log('Hubo un error');
    }

    xhr.send();

    // ReadyStates
    // 0 : No incializado
    // 1: COnexión establecida
    // 2: recibido
    // 3: procesando
    // 4: respuesta lista

    // Códigos
    // 200: Correcto
    // 403: Forbidden
    // 404: No encontrado
}

// HTML


&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge">
    &lt;title>Ajax&lt;/title>
    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css" />
&lt;/head>
&lt;body>

    &lt;div class="container">
        &lt;button id="boton">Cargar Ajax&lt;/button>
        &lt;div id="output">&lt;/div>
    &lt;/div>

    &lt;script src="app.js">&lt;/script>
&lt;/body>
&lt;/html>

   </code>
</pre>



<li>AJAX Y JSON</li>
<pre class="language-js">
   <code class="language-js">
      document.getElementById('boton1').addEventListener('click', cargarPersonal);
      document.getElementById('boton2').addEventListener('click', cargarPersonals);

      function cargarPersonal() {
          const xhr = new XMLHttpRequest();

          xhr.open('GET', 'personal.json', true);

          xhr.onload = function() {
              if(this.status === 200) {
                  const personal = JSON.parse(this.responseText);

                  const output = `
                      &lt;ul>
                          &lt;li>ID: ${personal.id}&lt;/li>
                          &lt;li>Nombre: ${personal.nombre}&lt;/li>
                          &lt;li>Empresa: ${personal.empresa}&lt;/li>
                          &lt;li>Trabajo: ${personal.trabajo}&lt;/li>

                      &lt;/ul>

                  `;
                  document.getElementById('personal').innerHTML = output;
              }
          }

          xhr.send();
      }


      // Todos los clientes

      function cargarPersonals() {
          const xhr = new XMLHttpRequest();

          xhr.open('GET', 'personal.json', true);

          xhr.onload = function() {
              if(this.status === 200) {
                  const personal = JSON.parse(this.responseText);

                  let output = '';

                  personal.forEach((personal) => {
                      output += `
                          &lt;ul>
                              &lt;li>ID: ${personal.id}&lt;/li>
                              &lt;li>Nombre: ${personal.nombre}&lt;/li>
                              &lt;li>Empresa: ${personal.empresa}&lt;/li>
                              &lt;li>Trabajo: ${personal.trabajo}&lt;/li>
                          &lt;/ul>
                          `;
                  });

                  document.getElementById('personal').innerHTML = output;
              }
          }

          xhr.send();
      }

      // HTML


      &lt;!DOCTYPE html>
      &lt;html lang="en">
      &lt;head>
          &lt;meta charset="UTF-8">
          &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
          &lt;meta http-equiv="X-UA-Compatible" content="ie=edge">
          &lt;title>Ajax&lt;/title>
          &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css" />
      &lt;/head>
      &lt;body>

          &lt;div class="container">
              &lt;button id="boton1">Cliente&lt;/button>

              &lt;button id="boton2">Clientes&lt;/button>
              &lt;br>&lt;br>
              &lt;h2>Cliente&lt;/h2>
              &lt;div id="personal">&lt;/div>
              &lt;h2>Clientes&lt;/h2>
              &lt;div id="">&lt;/div>
          &lt;/div>

          &lt;script src="app.js">&lt;/script>
      &lt;/body>
      &lt;/html>

// personal.json
[
    {
        "id": 1,
        "nombre": "Juan",
        "empresa": "EasyWebdev",
        "trabajo" : "Desarrollador Web"
    },
    {
        "id": 2,
        "nombre": "Pablo",
        "empresa": "EasyWebdev",
        "trabajo" : "Diseñador Web"

    },
    {
        "id": 3,
        "nombre": "De la torre",
        "empresa": "EasyWebdev",
        "trabajo" : "PHP Developer"
    }
]

// Instalar la extension
jsonview

   </code>
</pre>

<li>Datos de una REST y Ajax</li>
<pre class="language-js">
   <code class="language-js">
      document.querySelector('#cargar').addEventListener('click', leerPosts);


      function leerPosts(e) {

          const xhr = new XMLHttpRequest();

          xhr.open('GET', 'https://jsonplaceholder.typicode.com/posts', true);

          xhr.onload = function(){
              if(this.status  === 200) {
                  const response = JSON.parse(this.responseText);

                  let contenido = '';
                  response.forEach(function(post) {
                      contenido += `
                          &lt;h3>${post.title}&lt;/h3>
                          &lt;p>${post.body}&lt;/p>
                      `;
                  });

                  document.querySelector('#listado').innerHTML = contenido;
              }
          }

          xhr.send();

          e.preventDefault();

      }

   </code>
</pre>

<li>PROYECTO: Generador de nombres con AJAX</li>
<pre class="language-js">
   <code class="language-js">
document.querySelector('#generar-nombre').addEventListener('submit', cargarNombres);


function cargarNombres(e) {
    e.preventDefault();

    // variables
    const origen = document.getElementById('origen');
    const origenSeleccionado = origen.options[origen.selectedIndex].value;

    const genero = document.getElementById('genero');
    const generoSeleccionado = genero.options[genero.selectedIndex].value;

    const cantidad = document.getElementById('numero').value;

    // URL a consultar
    let url = '';
    url += 'http://uinames.com/api/?';
    // Si hay origen agregarlo a la url
    if(origenSeleccionado !== '') {
        url += `region=${origenSeleccionado}&`;
    }
    if(generoSeleccionado !== '') {
        url += `gender=${generoSeleccionado}&`;
    }
    if(cantidad !== '') {
        url += `amount=${cantidad}&`;
    }
    console.log(url);

    // Iniciar XMLHttpRequest
    const xhr = new XMLHttpRequest();

    xhr.open('GET', url, true);

    xhr.onload = function(){
        if(this.status  === 200) {
            const nombres = JSON.parse(this.responseText);
            let html = '&lt;h2>Nombres Generados&lt;/h2>';

            html += `&lt;ul class="lista">`;
            nombres.forEach(function(nombre) {
                html += `
                    &lt;li>${nombre.name}&lt;/li>
                `;
            });
            html += `&lt;/ul>`;

            document.querySelector('#resultado').innerHTML = html;
        }
    }
    xhr.send();
}
   </code>
</pre>

<li>Callbacks</li>
<pre class="language-js">
   <code class="language-js">
/*
Calbacks son importantes en la programación asyncrona de javascript,
Se puede decir que es la piedra angular, y ya hemos escrito
varios callbacks!
Un callback es una función que se le pasa a otra función para ser ejecutada

*/
// ejemplo sencillo

const ciudades = ['Londres', 'New York', 'Madrid', 'Paris', 'Viena'];

// Inline Callback
ciudades.forEach(function(ciudad) {
   console.log(ciudad);
});

// Mismo callback pero con funcion definida
function callback(ciudad) {
   console.log(ciudad);
}
ciudades.forEach(callback);


// Listado de paises
const paises = ['Francia', 'España', 'Portugal', 'Australia', 'Inglaterra', 'Irlanda'];

// Un nuevo pais se agrega despues de 2 segundos...
function nuevoPais(pais, callback) {
    setTimeout(function() {
        paises.push(pais);
        callback();
    }, 2000  );
}
// Los paises se muestran despues de 1 segundo
function mostrarPaises() {
    setTimeout(function() {
        let html = '';
        paises.forEach(function(pais) {
            html += `<li>${pais}</li>`;
        });
        document.body.innerHTML = html;
    }, 1000 );
}
// Agregar nuevo pais
nuevoPais('Alemania', mostrarPaises);

// Mostrarlos
mostrarPaises();

   </code>
</pre>

<li>Libreria para Consumir REST</li>
<pre class="language-js">
   <code class="language-js">

// AjaxRESTAPI.js

class AjaxRESTAPI{
    constructor() {
        this.http = new XMLHttpRequest();
    }
    get(url, callback) {
        this.http.open('GET', url, true);

        let self = this;

        this.http.onload = function(){
            // // Undefined ya que el callback el this es de esa funcion
            if(self.http.status === 200) {
                callback(null, self.http.responseText);
            } else {
                callback('error...' + self.http.status);
            }
        }

        this.http.send();
    }
    post(url, data, callback) {
        this.http.open('POST', url, true);
        this.http.setRequestHeader('Content-Type', 'application/json');

        let self = this;

        this.http.onload = function(){
             callback(null, self.http.responseText);
        }

        this.http.send(JSON.stringify(data));
    }
    put(url, data, callback) {
        this.http.open('PUT', url, true);
        this.http.setRequestHeader('Content-Type', 'application/json');

        let self = this;

        this.http.onload = function(){
             callback(null, self.http.responseText);
        }

        this.http.send(JSON.stringify(data));
    }
    delete(url, callback) {
        this.http.open('DELETE', url, true);

        let self = this;

        this.http.onload = function(){
            // // Undefined ya que el callback el this es de esa funcion
            if(self.http.status === 200) {

                callback(null, 'Eliminado');
            } else {
                callback('error...' + self.http.status);
            }
        }

        this.http.send();
    }
}


// app.js

const http = new AjaxRESTAPI();
http.get('https://jsonplaceholder.typicode.com/posts', function(error, posts) {
    if(error) {
        console.log(error);
    } else {
        console.log(posts);
    }
});

/*

const data = {
    title: 'new Title',
    body: 'algo mas'
};
*/

// POST Request
/*
http.post('https://jsonplaceholder.typicode.com/posts', data, function(error, post) {
    if(error) {
        console.log(error);
    } else {
        console.log(post);
    }
});
*/

// PUT REQUEST ( update )
/*
http.put('https://jsonplaceholder.typicode.com/posts/1', data, function(error, post) {
    if(error) {
        console.log(error);
    } else {
        console.log(post)
    }
}) ;

*/
// Delete Request.
/*
http.delete('https://jsonplaceholder.typicode.com/posts/1', function(error, posts) {
    if(error) {
        console.log(error);
    } else {
        console.log(posts);
    }
});
*/
   </code>
</pre>


<li>Promises</li>
<pre class="language-js">
   <code class="language-js">

// Ejemplo con Promises

const aplicarDescuento = new Promise(function(resolve, reject) {
    const descuento = true;
    if(descuento) {
        resolve('Descuento Aplicado');
    } else {
        reject('No se pudo aplicar el descuento');
    }
});

aplicarDescuento.then(function(resultado) {
    console.log(resultado);
}).catch(function(error) {
    console.log(error);
});

   </code>
</pre>


<li>FETCH API</li>
<pre class="language-js">
   <code class="language-js">
document.getElementById('txtBtn').addEventListener('click', cargarTxt);

document.getElementById('jsonBtn').addEventListener('click', cargarJSON);

document.getElementById('apiBTN').addEventListener('click', cargarREST);

// cargar TXT
function cargarTxt() {
    fetch('datos.txt')
    .then(function(res) {
        return res.text();
    })
    .then(function(data) {
        console.log(data);
        document.getElementById('resultado').innerHTML = data;
    })
    .catch(function(error) {
        console.llog(error);
    });
}

// cargar json
function cargarJSON() {
    fetch('empleados.json')
    .then(function(res) {
        return res.json();
    })
    .then(function(data) {
        console.log(data);
        let html = ''
        data.forEach(function(empleado) {
            html += `
                &lt;li>${empleado.nombre} ${empleado.puesto}&lt;/li>`;
        });
        document.getElementById('resultado').innerHTML = html;
    })
    .catch(function(error) {
        console.log(error);
    });
}

function cargarREST() {
    fetch('https://picsum.photos/list')
    .then(function(res) {
        return res.json();
    })
    .then(function(data) {
        console.log(data);
        let html = ''
        data.forEach(function(imagen, index) {
            html += `
                &lt;li>
                    &lt;a href="${imagen.post_url}">Ver imagen&lt;/a>
                    ${imagen.author}
                &lt;/li>
                `;
        });
        document.getElementById('resultado').innerHTML = html;
    })
    .catch(function(error) {
        console.log(error);
    });

}
   </code>
</pre>

<li>PROYECTO: Generador de Nombres con Fetch API</li>
<pre class="language-js">
   <code class="language-js">
document.querySelector('#generar-nombre').addEventListener('submit', cargarNombres);


function cargarNombres(e) {
    e.preventDefault();

    // variables
    const origen = document.getElementById('origen');
    const origenSeleccionado = origen.options[origen.selectedIndex].value;

    const genero = document.getElementById('genero');
    const generoSeleccionado = genero.options[genero.selectedIndex].value;

    const cantidad = document.getElementById('numero').value;

    // URL a consultar
    let url = '';
    url += 'http://uinames.com/api/?';
    // Si hay origen agregarlo a la url
    if(origenSeleccionado !== '') {
        url += `region=${origenSeleccionado}&`;
    }
    if(generoSeleccionado !== '') {
        url += `gender=${generoSeleccionado}&`;
    }
    if(cantidad !== '') {
        url += `amount=${cantidad}&`;
    }
    console.log(url);

    // Crear Fetch
    fetch(url)
    .then(function(res) {
        return res.json();
    })
    .then(function(data) {
        let html = '&lt;h2>Nombres Generados&lt;/h2>';
        html += `&lt;ul class="lista">`;
        data.forEach(function(nombre) {
            html += `
                &lt;li>${nombre.name}&lt;/li>
            `;
        });
        html += `&lt;/ul>`;
        document.querySelector('#resultado').innerHTML = html;
    })
    .catch(function(error) {
        console.log(error);
    });

}
   </code>
</pre>



<li>Arrow Functions</li>
<pre class="language-js">
   <code class="language-js">
// Arrow Functions
const aprendiendo = function() {
    console.log('Aprendiendo JavaScript');
}

const aprendiendo = () =>  {
    console.log('Aprendiendo JavaScript');
}

// una linea no requiere llaves
const aprendiendo = () => console.log('Aprendiendo JavaScript');

// retornar un valor
const aprendiendo = () => 'Aprendiendo JavaScript';

console.log(aprendiendo());

// retornando objetos
const mensaje = () => ({mensaje: 'Hola'});
console.log(mensaje());

// Parametros
const aprendiendo = (tecnologia) => console.log(`aprendiendo ${tecnologia}`);
aprendiendo('JavaScript');

// si es un solo parmetro no ocupamos el parentesis
const aprendiendo = tecnologia => console.log(`aprendiendo ${tecnologia}`);
aprendiendo('JavaScript');

// multiples parametros si requieren parentesis
const aprendiendo = (tecn1, tecn2) => console.log(`Aprendiendo ${tecn1} ${tecn2}`);
aprendiendo('JS', 'ES');

// ejemplo con callbacks
const productos = ['Disco', 'Camisa', 'Guitarra'];

const cantidadProductos = productos.map(function(producto) {
    return producto.length;
});

// con arrow
const cantidadProductos = productos.map((producto) => {
    return producto.length;
});

// otra forma mas corta
const cantidadProductos = productos.map(producto =>  producto.length);

// Ejemplo con foreach
const productos = ['Disco', 'Camisa', 'Guitarra'];
productos.forEach(producto => {
    console.log(producto);
});


   </code>
</pre>

<li>FETCH API con Arrow Functions</li>
<pre class="language-js">
   <code class="language-js">
document.getElementById('txtBtn').addEventListener('click', cargarTxt);

document.getElementById('jsonBtn').addEventListener('click', cargarJSON);

document.getElementById('apiBTN').addEventListener('click', cargarREST);

// cargar TXT
function cargarTxt() {
    fetch('datos.txt')
    .then(res => res.text())
    .then(data => document.getElementById('resultado').innerHTML = data )
    .catch(error => console.log(error) );
}

// cargar json
function cargarJSON() {
    fetch('empleados.json')
    .then(res => res.json() )
    .then(data => {
        console.log(data);
        let html = ''
        data.forEach(function(empleado) {
            html += `
                &lt;li>${empleado.nombre} ${empleado.puesto}&lt;/li>`;
        });
        document.getElementById('resultado').innerHTML = html;
    })
    .catch(error =>  console.log(error) );
}

function cargarREST() {
    fetch('https://picsum.photos/list')
    .then(res  =>  res.json() )
    .then(data => {
        console.log(data);
        let html = ''
        data.forEach(function(imagen, index) {
            html += `
                &lt;li>
                    &lt;a href="${imagen.post_url}">Ver imagen&lt;/a>
                    ${imagen.author}
                &lt;/li>
                `;
        });
        document.getElementById('resultado').innerHTML = html;
    })
    .catch(error => console.log(error) );

}
</code>
</pre>


<li>PROYECTO: Generador de Nombres con Fetch API y Arrow Functions</li>
<pre class="language-js">
   <code class="language-js">
document.querySelector('#generar-nombre').addEventListener('submit', cargarNombres);

function cargarNombres(e) {
    e.preventDefault();

    // variables
    const origen = document.getElementById('origen');
    const origenSeleccionado = origen.options[origen.selectedIndex].value;

    const genero = document.getElementById('genero');
    const generoSeleccionado = genero.options[genero.selectedIndex].value;

    const cantidad = document.getElementById('numero').value;

    // URL a consultar
    let url = '';
    url += 'http://uinames.com/api/?';
    // Si hay origen agregarlo a la url
    if(origenSeleccionado !== '') {
        url += `region=${origenSeleccionado}&`;
    }
    if(generoSeleccionado !== '') {
        url += `gender=${generoSeleccionado}&`;
    }
    if(cantidad !== '') {
        url += `amount=${cantidad}&`;
    }
    console.log(url);

    // Crear Fetch
    fetch(url)
    .then(res => res.json() )
    .then(data  => {
        let html = '&lt;h2>Nombres Generados&lt;/h2>';
        html += `&lt;ul class="lista">`;
        data.forEach(function(nombre) {
            html += `
                &lt;li>${nombre.name}&lt;/li>
            `;
        });
        html += `&lt;/ul>`;
        document.querySelector('#resultado').innerHTML = html;
    })
    .catch(error =>  console.log(error) );

}
   </code>
</pre>

<li>ASYNC AWAIT</li>
<pre class="language-js">
   <code class="language-js">
// Async await
async function hola() {

    // Crear un nuevo promise
    const clientes = new Promise((resolve, reject) => {
       setTimeout(() => {
           resolve(`Clientes descargados...`);
       }, 1000);
    });

    // error o no...
    const error = true;

    if(!error) {
       const respuesta = await clientes;  // espera hasta que promise este hecho
       return respuesta;
    } else {
        // Si hay un error le damos reject
       await Promise.reject(`Hubo un error`);
    }
}

// Ejecutar el promise
hola()
   .then(res => console.log(res))
   .catch(error => console.log(error));



// Otro Ejemplo
async function leerUsuarios() {
    // esperar la respuesta
    const response = await fetch('https://jsonplaceholder.typicode.com/posts');

    // procede cuando este hecho
    const data = await response.json();
    // hasta que el segundo await este hecho
    return data;
}

leerUsuarios().then( usuarios => console.log(usuarios) );
   </code>
</pre>



<li>Generador de Nombres con FETCH API y async await</li>
<pre class="language-js">
   <code class="language-js">

   </code>
</pre>



<li>PROYECTO: CRIPTOMONEDAS con Fetch API y Async Await</li>
<pre class="language-js">
   <code class="language-js">
// cotizador.js

class Cotizador{
    constructor() {

    }
    async obtenerValores(moneda, cripto ) {
        const urlConvertir = await fetch(`https://api.coinmarketcap.com/v1/ticker/${cripto}/?convert=${moneda}`);

        const resultado = await urlConvertir.json();

        return {
            resultado
        }
    }

    async obtenerMonedasApi(){
        const urlObtenerMonedas = await fetch('https://api.coinmarketcap.com/v1/ticker/')

        const monedas = await urlObtenerMonedas.json();

        return {
            monedas
        }
    }
}

// interfaz.js
class Interfaz {
    constructor() {
        this.init();
    }
    init() {
        this.construirSelect();
    }

    construirSelect() {
        cotizador.obtenerMonedasApi()
            .then(data => {
                    // Crear un select con las opciones
                    const arregloMonedas = data.monedas;
                    const select = document.getElementById('criptomoneda');

                    // Construir el select desde la REST API
                    arregloMonedas.forEach(moneda => {
                        // añadir el ID y el valor, despues asignarlo al select
                        const option = document.createElement('option');
                        option.value = moneda.id;
                        option.appendChild(document.createTextNode(moneda.name));
                        select.appendChild(option);
                    })
            })

    }
    mostrarMensaje(mensaje, clases) {
        const div = document.createElement('div');
        div.className = clases;
        div.appendChild(document.createTextNode(mensaje));

        const divMensaje = document.querySelector('.mensajes');

        divMensaje.appendChild(div);

        setTimeout(() => {
            document.querySelector('.mensajes div').remove();
        }, 3000 );
    }
    mostrarResultado(resultado, moneda) {

        const resultadoAnterior = document.querySelector('#resultado > div');

        if(resultadoAnterior) {
            resultadoAnterior.remove();
        }
        // Mostrar el Spinner
        this.mostrarSpinner();

        // Leer la moneda
        const etiquetaMoneda = `price_${moneda}`;

        // Leer el valor dinamicamente
        const valor = resultado[etiquetaMoneda];
        // Construir el template
        let templateHTML = '';
        templateHTML += `
            &lt;div class="card cyan darken-3">
                &lt;div class="card-content white-text">
                    &lt;span class="card-title">Resultado&lt;/span>
                    &lt;p>El precio de ${resultado.name} a moneda ${moneda} es de: ${valor}&lt;/p>
                    &lt;p>Última hora: ${resultado.percent_change_1h} %&lt;/p>
                    &lt;p>Último día: ${resultado.percent_change_24h} %&lt;/p>
                    &lt;p>Últimos 7 días: ${resultado.percent_change_7d} %&lt;/p>
                &lt;/div>
            &lt;/div>
        `;

        // Después de 3 minutos, ocultar el spinner y mostrar el resultado
        setTimeout(() => {
            // Añadir el Template HTML
            const divResultado = document.getElementById('resultado');
            divResultado.innerHTML = templateHTML;
            // Ocultar Spinner
            document.querySelector('.spinner img').remove();
        }, 3000 );
    }
    mostrarSpinner() {
        const spinnerGif = document.createElement('img');
        spinnerGif.src = 'img/spinner.gif';
        document.querySelector('.spinner').appendChild(spinnerGif);
    }
}


// app.js


// Instanciar Ambas clases
const cotizador = new Cotizador();
const ui = new Interfaz();

// obtener el formulario
const formulario = document.getElementById('formulario');
// Lanzar el formulario cuando se mandan los datos
formulario.addEventListener('submit',(e) => {
    e.preventDefault();

    // Leer la moneda seleccionada
    const monedaSelect = document.getElementById('moneda');
    const monedaSeleccionada = monedaSelect.options[monedaSelect.selectedIndex].value;

    // leer la criptomoneda seleccionada
    const criptoMonedaSelect = document.getElementById('criptomoneda');
    const criptoMonedaSeleccionada = criptoMonedaSelect.options[criptoMonedaSelect.selectedIndex].value;

    //console.log(monedaSeleccionada + ':' + criptoMonedaSeleccionada);

    if(monedaSeleccionada === '' || criptoMonedaSeleccionada === ''){

        // faltan datos, imprimir mensaje
        ui.mostrarMensaje('Ambos campos son obligatorios', 'deep-orange darken-4 card-panel');

    }  else {
        cotizador.obtenerValores(monedaSeleccionada, criptoMonedaSeleccionada)
            .then(data => {
                ui.mostrarResultado( data.resultado[0], monedaSeleccionada.toLowerCase() );
            })
    }

});

   </code>
</pre>


<li>PROYECTO: Eventos con Event Brite</li>
<pre class="language-js">
   <code class="language-js">
// eventbrite.js

class EventBrite {
    // Constructor con el auth Token, disponible para las consultas
    constructor() {
         this.token_auth = '4M7VDFZWO3VAGXJ2S7UU';
         this.ordenar = 'date';
    }

     // Obtieene los eventos del buscador
     async obtenerEventos(evento, categoria) {
         const respuestaEvento = await fetch(`https://www.eventbriteapi.com/v3/events/search/?q=${evento}&categories=${categoria}&sort_by=${this.ordenar}&token=${this.token_auth}`);

         // Esperar la respuesta del evento y devolverlo como JSON
        const eventos = await respuestaEvento.json();

        return {
               eventos
        }
     }
     // Obtiene las categorias para el init()
     async obtenerCategorias() {
         // Consultar a las categorias
        const respuestaCategorias = await fetch(`https://www.eventbriteapi.com/v3/categories/?&token=${this.token_auth}`);

        // Esperar la respuesta de las categorias y devolverlo como JSON
        const categorias = await respuestaCategorias.json();
        return {
              categorias
        }
     }
 }

 // interfaz.js

 class Interfaz {

    // Constructor
     constructor(){
        // inicializa la app y todo lo que vaya aqui
        this.init();

        // Obtenemos el valor del resultado
        this.listado = document.getElementById('resultado-eventos');

     }
     // Método para añadir otros metodos que se iniciaran  con la app
     init() {
        this.imprimirCategorias();
     }
     // Imprimir las categorias
     imprimirCategorias() {
            const listaCategorias = eventbrite.obtenerCategorias()
                  .then(categorias => {
                      const cats = categorias.categorias.categories;
                      const selectCategorias = document.getElementById('listado-categorias');

                      cats.forEach(cat => {
                            const option = document.createElement('option');
                            option.value = cat.id;
                            option.appendChild(document.createTextNode(cat.name_localized));
                            selectCategorias.appendChild(option);
                      });
                  })
    }
    // Imprimir los eventos que vienen de la respuesta
    mostrarEventos(eventos) {
          // Leer los eventos y agregarlos a la clase
          const listaEventos = eventos.events;

          // Construir el template
          let htmlTemplate = '';

          // Recorrer los eventos y crear su template
          listaEventos.forEach(evento => {

            this.listado.innerHTML +=  `
            &lt;div class="col-md-4 mb-4">
                    &lt;div class="card">
                         &lt;div class="card-body">
                              &lt;img class="img-fluid mb-2" src="${evento.logo !== null ? evento.logo.url : '' }">
                         &lt;/div>
                        &lt;div class="card-body">
                              &lt;div class="card-text">
                                   &lt;h2 class="text-center">${evento.name.text}&lt;/h2>
                                   &lt;p class="lead texto-info">Información del evento&lt;/p>
                                   &lt;p>${ evento.description.text.substring(0,200)  } ... &lt;/p>

                                   &lt;span class="badge badge-primary">Capacidad: ${evento.capacity}&lt;/span>
                                   &lt;span class="badge badge-secondary">Fecha y Hora: ${evento.start.local}&lt;/span>

                                   &lt;a href="${evento.url}" target="_blank" class="btn btn-primary btn-block mt-4">Comprar Boletos&lt;/a>
                              &lt;/div>
                         &lt;/div>
                    &lt;/div>
               &lt;/div>`;
          });
     }
     // En caso de otra busqueda limpiar el HTML
     limpiarResultados() {
        this.listado.innerHTML ='';
     }
     // Desaparecer el mensaje en caso de que exista
     limpiarMensaje() {
          const alert = document.querySelector('.alert');
          if(alert) {
               alert.remove();
           }
     }

    // Imprimir una alerta
    mostrarMensaje(mensaje, clases) {
        this.limpiarMensaje();

        const div = document.createElement('div');
        div.className = clases;
        // Add Text
        div.appendChild(document.createTextNode(mensaje));
        // get a parent
        const buscadorDiv = document.querySelector('#buscador');
        buscadorDiv.appendChild(div);

        // Quitar el mensaje despues de 3 segundos
        setTimeout(() => {
            this.limpiarMensaje();
        },3000);
    }
}


// app.js

// Inicializar ambas clases
const eventbrite = new EventBrite();
const ui = new Interfaz();


// Listener para el buscador
document.getElementById('buscarBtn').addEventListener('click',  (e) => {
    e.preventDefault();
    // Texto introducido por el usuario
    const textoBuscador = document.getElementById('evento').value;

    //  Leer el select seleccionado
    const categorias = document.getElementById('listado-categorias');
    const categoriaSeleccionada = categorias.options[categorias.selectedIndex].value;
     // console.log(categoriaSeleccionada);


     // Revisar que haya algo escrito, sino mostrar un mensaje
     if(textoBuscador !== '') {
        // a la consola
        // console.log(textoBuscador);
        // console.log('Si hay algo');
        // Si hay algo escrito
        eventbrite.obtenerEventos(textoBuscador, categoriaSeleccionada)
               .then(data => {
                    // console.log(data.eventos);
                    if(data.eventos.events.length > 0) {
                         // Si hay eventos, leeer los datos y crear la interfaz
                         ui.limpiarResultados();
                         ui.mostrarEventos(data.eventos);
                    } else {
                         // No hay daatos y enviar una alerta
                         ui.mostrarMensaje('No hay resultados', 'alert alert-danger mt-4');
                    }
               })
     } else {
         // Mostrar mensaje para que se imprima algo
        ui.mostrarMensaje('Escribe algo en el buscador', 'alert alert-danger mt-4');
        // console.log('nada');
     }
});



</code>
</pre>


<li>TRY CATCH</li>
<pre class="language-js">
   <code class="language-js">

// Funcion que no existe
try {
    algo();
} catch (error) {
    console.log(error);
} finally {
    console.log('No le importa, ejecuta de todos modos!');
}

// funcion que si existe
function ObtenerClientes() {
    console.log('Descargando...');

    setTimeout(() => {
        console.log('Completo');
    }, 3000);
}

ObtenerClientes();

   </code>
</pre>

<li>Destructuring</li>
<pre class="language-js">
   <code class="language-js">
// Destructuring

// Este código extrae los valores de un objeto
// Su desventaja es que si tu objeto es grande tendrás
// que asignar muchas variables.

const cliente = {
    nombre : 'Alejandra',
    tipo: 'Premium'
}


let nombre = cliente.nombre,
    tipo = cliente.tipo;

 console.log(nombre);
 console.log(tipo);


// Destructuring

const cliente = {
    nombre : 'Alejandra',
    tipo: 'Premium'
}
// Asignar los valores
let {nombre, tipo} = cliente;
console.log(nombre);
console.log(tipo);


// Estos son valores del objeto
const cliente = {
    nombre : 'Alejandra',
    tipo: 'Premium'
};

nombre = 'Pedro',
tipo = 'Platinum';


({nombre, tipo} = cliente);
console.log(nombre);
console.log(tipo);

// Aunque las variables externas se llamen de una forma
// va a leer los objetos




// Objeto dentro de un objeto
const cliente = {
    tipo: 'Premium',
    nombre : 'Antonio',
    datos: {
        ubicacion: {
            ciudad: 'Mexico',
            pais: 'Mexico'
        },
        cuenta: {
            desde: '10-12-2012',
            saldo: 4000
        }
    }
};

// Leer datos desde un objeto.


let { datos: {ubicacion}} = cliente;
console.log(ubicacion.ciudad);
console.log(ubicacion.pais);

let { datos: {cuenta}} = cliente;
console.log(cuenta.desde);
console.log(cuenta.saldo);


// Valores por Default.
let cliente = {
    nombre : 'Pedro',
    tipo : 'Premium',
    saldo : 3000
};

let {nombre, tipo, saldo = 0} = cliente;

console.log(nombre);
console.log(tipo);
console.log(saldo);


// Destructuring un arreglo
let ciudades = ['Londres', 'New York', 'Madrid', 'Paris'],
                 idioma = 'cliente';

const [
    primeraCiudad,
    segundaCiudad
] = ciudades;
console.log(primeraCiudad);
console.log(segundaCiudad);

// Omitir un espacio para acceder a otra
const [ , , , paris] = ciudades;
console.log(paris);
// no va a imprimir el idioma, sino el primer elemento del arreglo
 [idioma] = ciudades;

console.log(idioma);

// Ejemplo más avanzado:

let cliente = {
    tipo: 'Premium',
    saldo: 30000,
    datos: {
        nombre: 'Pedro',
        apellido: 'Perez',
        residencia: {
            ciudad: 'Mexico',
            pais: 'Mexico'
        }
    },
    movimientos: ['12-03-2018', '10-03-2018', '08-03-2018']
};

let {
    datos: {residencia},
    movimientos: [primero]
} = cliente;

console.log(residencia);
console.log(residencia.ciudad);
console.log(primero);

// Destructuring en funciones forma vieja.
function reservacion(completo, opciones) {
    opciones = opciones || {};
    let metodo = opciones.metodoPago,
        cantidad = opciones.cantidad,
        dias = opciones.dias;

        console.log(metodo);
        console.log(cantidad);
        console.log(dias);
}

//2do argumento son las opciones
reservacion(
    true,
    {
        metodoPago: 'tarjeta',
        cantidad: 2000,
        dias: 3
    }
);

// Destructuring en funciones, metodo nuevo
function reservacion(completo, opciones) {
    let {metodoPago, cantidad, dias} = opciones;

    console.log(metodoPago);
    console.log(cantidad);
    console.log(dias);
}

// Destructuring en funciones, con parametros por defualt
function reservacion(completo,
        {
            metodoPago = 'efectivo',
            cantidad= 0,
            dias = 0
        } = {}
    ) {


    console.log(metodoPago);
    console.log(cantidad);
    console.log(dias);
}
//2do argumento son las opciones
reservacion(
    true,
    {
        metodoPago: 'tarjeta',
        cantidad: 2000,
        dias: 3
    }
);



   </code>
</pre>

<li>Symbols</li>
<pre class="language-js">
   <code class="language-js">
// Symbol

// Los simbolos son nuevos en ES6, te permiten crear propiedad única
// tipo de dato que se añade a JS

//  Creando un Symbol
// Symbol es creado y se agrega a una propiedad del objeto.
// new Symbol enviaria un error.


const sym = Symbol();
const sym2 = Symbol('sym');

// Los symbolos siempre son diferentes

// console.log( Symbol() === Symbol() );

// Llaves de objetos únicas
let nombre = Symbol();
let apellido = Symbol();
// Crear un objeto vacio
let persona = {}
// Esto no va a servir
persona.datos;
// debe tener corchetes
persona[nombre] = 'Juan';
persona[apellido] = 'De la torre';
persona.tipoCliente = 'Premium';
persona.saldo = 500;
console.log(persona);
console.log(persona[nombre]);

// No se puede acceder al SYMBOL con un for.
for(let i in persona) {
    console.log(`${i} : ${persona[i]}`);
}

// También se puede crear UNA DESCRIPCION DEL SYMBOLO
/*
let nombreCliente = Symbol('Nombre del cliente');
let cliente = {};

cliente[nombreCliente] = 'Pedro';


// Probar
console.log(cliente);
console.log(cliente[nombreCliente]);
console.log(nombreCliente);

*/

   </code>
</pre>

<li>Sets</li>
<pre class="language-js">
   <code class="language-js">
// Creando un Set
// Un set te permite crear una lista de valores sin duplicados.

let carrito = new Set();
carrito.add('Camisa');
carrito.add('Disco #1');
carrito.add('Disco #2');
carrito.add('Disco #3');
carrito.add('Disco #3');
console.log(carrito.size);


// En un arreglo
let numeros = new Set([1,2,3,4,5,6,7,3,3,3,3]);
console.log(numeros.size);


let carrito = new Set();
carrito.add('Camisa');
carrito.add('Disco #1');
carrito.add('Disco #2');
carrito.add('Disco #3');
carrito.add('Disco #3');


// Comprobando que un valor existe en el set.
console.log( carrito.has('Camisa') );

// Eliminando del set
console.log( carrito.delete('Camisa') );
console.log(carrito);

// Limpiar un set
carrito.clear();
console.log(carrito);

// Foreach a un set
carrito.forEach(producto =>  {
    console.log(producto);
})

// Foreach a un set
carrito.forEach((producto, index, pertnece) =>  {
    console.log(`${index} : ${producto}`);
    console.log(pertnece  === carrito);
})

// Convertir un set a un arreglo...
const arregloCarrito = [...carrito];
console.log(arregloCarrito);



   </code>
</pre>

<li>Maps</li>
<pre class="language-js">
   <code class="language-js">
// MAPS
// Listas ordenadas en llave - valor, donde el tipo y el valor pueden ser
// cualquier tipo.

let cliente = new Map();

cliente.set('nombre', 'Karen');
cliente.set('tipo', 'Premium');
cliente.set('saldo', 3000);

console.log(cliente);

// acceder a los valores
console.log(cliente.get('nombre'));
console.log(cliente.get('tipo'));
console.log(cliente.get('saldo'));


// Métodos al MAP
// Tamaño del MAP
console.log(cliente.size);
// Contiene un valor
console.log(cliente.has('tipo'));
console.log(cliente.get('tipo'));
// Borrar
cliente.delete('nombre');
console.log(cliente.has('nombre'));
console.log(cliente.get('nombre'));
console.log(cliente.size);

// Borrar el map

cliente.clear();
console.log(cliente);

// Inicializar un map!

const paciente = new Map([['nombre', 'paciente'], ['cuarto', 'no definido']]);

paciente.set('nombre', 'Antonio');
// paciente.set('cuarto', 400);

console.log(paciente);


// Foreach a un map
cliente.forEach((datos, index) => {
    // console.log(datos);
    console.log(`${index}: ${datos}`);
});



   </code>
</pre>



<li>Iteradores</li>
<pre class="language-js">
   <code class="language-js">
// Iterators
function crearIterador(carrito) {
    let i = 0;

    return {
        siguiente: function() {
            let fin = (i >= carrito.length);
            let valor = !fin ? carrito[i++] : undefined;

            return {
                fin: fin,
                valor: valor
            };
        }
    };
}
const carrito = ['Producto 1', 'Producto 2', 'Producto 3', 'Producto 4'];

const recorrerCarrito = crearIterador(carrito);

console.log(recorrerCarrito.siguiente() );
console.log(recorrerCarrito.siguiente() );
console.log(recorrerCarrito.siguiente() );
console.log(recorrerCarrito.siguiente() );
console.log(recorrerCarrito.siguiente() );
   </code>
</pre>

<li>Generadores</li>
<pre class="language-js">
   <code class="language-js">
// Es una funcion que retorna un Iterador.
// Se indican con un asterisco después de  la palabra function

// Generador

function *crearGenerador() {
    // Yiel es nuevo también en es6
    yield 1;
    yield 'Nombre';
    yield 3 +3;
    yield true;
}
// Se llaman como funciones normales pero retornan un iterador
const iterador = crearGenerador();

console.log(iterador.next().value);
console.log(iterador.next().value);
console.log(iterador.next().value);
console.log(iterador.next().value);
console.log(iterador.next().value);


// Crear el generador
function *nuevoGenerador(carrito) {
    for( let i = 0; i < carrito.length; i++) {
        yield carrito[i];
    }
}
// carrito
const carrito = ['Producto 1', 'Producto 2', 'Producto 3', 'Producto 4'];

// recorrer el iterador
let iterador = nuevoGenerador(carrito);

console.log(iterador.next() );
console.log(iterador.next() );
console.log(iterador.next() );
console.log(iterador.next() );
console.log(iterador.next() );
   </code>
</pre>

<li>Otros Iteradores</li>
<pre class="language-js">
   <code class="language-js">
// Entries Iterador

const ciudades = ['Londres', 'New York', 'Madrid', 'Paris'];
const ordenes = new Set([123, 231, 131, 102]);
const datos = new Map();

datos.set('nombre', 'Juan');
datos.set('profesion', 'Desarrollador Web');

// entries a las ciudades
for( let entry of ciudades.entries() ){
    console.log(entry);
}

// entries a las ordenes
for( let entry of ordenes.entries() ){
    console.log(entry);
}

// entries a los datos
for( let entry of datos.entries() ){
    console.log(entry);
}


// Values iterator
// values a las ciudades
for(let value of ciudades.values()) {
    console.log(value);
}

// values a las ordenes
for( let value of ordenes.values() ){
    console.log(value);
}

// values a los datos
for( let value of datos.values() ){
    console.log(value);
}


// Keys iterator
// keys a las ciudades
for(let keys of ciudades.keys() ) {
    console.log(keys);
}

// keyss a las ordenes
for( let keys of ordenes.keys()  ){
    console.log(keys);
}

// keyss a los datos
for( let keys of datos.keys()  ){
    console.log(keys);
}


// Default
for(let ciudad of ciudades) {
    console.log(ciudad);
}

for( let orden of ordenes){
    console.log(orden);
}

for( let dato of datos){
    console.log(dato);
}

// Iterar en un string

const mensaje = 'Aprendiendo JavaScript';

// Forma vieja
for( let i = 0; i < mensaje.length; i++ ) {
    console.log(mensaje[i]);
}

// forma nueva
for( let letra of mensaje) {
    console.log(letra);
}

// Iterar en un NODE LIST
const enlaces = document.getElementsByTagName('a');

for (let enlace of enlaces) {
    console.log(enlace.href);
}
   </code>
</pre>


<li>Expresiones Regulares</li>
<pre class="language-js">
   <code class="language-js">

/*
    \d   cualquier Numero
    \w   cualquier letra o numero
    \s   cualquier espacio en blanco (espacios, tab o salto de linea)
    \D   un caracter que no es un Digito
    \W   un caracter que no sea alfanumerico
    \S   un caracter que no sea espacio en blanco
    .   cualquier caracter que no sea un salto de linea
*/


// una expresión regular puede ser creada de 2 formas.



// una expresión regular puede ser creada de 2 formas.
const exp1 = new RegExp('/abc/');
const exp2 = /abc/;

// revisar que incluya 1992
console.log(/[0123456789]/.test('1992'));

// igual que arriba
console.log(/[0-9]/.test('1992'));

// Una fecha como 20-10-2018
const expRegFecha = /\d\d-\d\d-\d\d\d\d/ ;
const fecha = '20-10-2018';
console.log( expRegFecha.test(fecha) );

// Revisar la hora 18:03
const expRegHora = /\d\d:\d\d/;
const hora = '18:03';
console.log( expRegHora.test(hora) );

// Hora 08:30 PM
const expRegHoraCompleta = /\d\d:\d\d \D\D/;
const horaCompleta = '08:30 10';
console.log(expRegHoraCompleta.test(horaCompleta));

// Puede un numero repetirse
const expRegRepetir = /\d+/;
const digitos = 1234;
console.log(expRegRepetir.test(digitos));

// Negar la expresión ^
const expRegNegar = /[^0-9]/;
const numeros = 12345;
console.log(expRegNegar.test(numeros));

// la sintaxis {1,2} representa que un caracter puede aparecer de 1 a 2 veces
let expReg = /\d{1,2}-\d{1,2}-\d{4}/
const fecha = '10-20-2018';
const fecha2 = '10-2-2018';
const fecha3 = '1-20-2018';
console.log(expReg.test(fecha));
console.log(expReg.test(fecha2));
console.log(expReg.test(fecha3));


// Revisar letras o numeros
const mensajeReg = /\w+/;
let mensaje ;
mensaje = 'mensaje de prueba';
mensaje = ' ';
mensaje = 1234;
console.log(mensajeReg.test(mensaje));

// REVISAR PUROS NUMEROS
const mensajeReg = /\d+/;
const numeros = 1234;
console.log(mensajeReg.test(numeros));

// REVISAR PUROS NUMEROS con w
const mensajeReg = /([0-9])\w+/;
const numeros = 1234;
console.log(mensajeReg.test(numeros));


// REVISAR PURAS MAYUSCULAS
const mensajeReg = /([A-Z])\w+/;
let mensaje;
mensaje = 'MENSAJE EN MAYUSCULAS';
mensaje = 1234;
mensaje = 'mensaje';
console.log(mensajeReg.test(mensaje));

// REVISAR PURAS MAYUSCULAS
const mensajeReg = /([a-z])\w+/;
let mensaje;
mensaje = 'MENSAJE EN MAYUSCULAS';
mensaje = 1234;
mensaje = 'mensaje';
console.log(mensajeReg.test(mensaje));

// Prueba de EXP REGULAR
const expRegMail = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
const email = 'correo99@correo.com';
console.log(expRegMail.test(email));
   </code>
</pre>

<style>
* {
    margin:0;
    padding:0;
}
li {
    text-align: center;
    list-style:none;
    font-family: helvetica, arial, serif;
    margin:30px 0;
    font-weight: bold;
    text-transform: uppercase;
}
:not(pre) > code[class*="language-"], pre[class*="language-"] {
    background-color: black;
}
code[class*="language-"], pre[class*="language-"] {
    font-size: 20px;
}

li {
    font-size: 30px;
}
body {
    max-width: 1100px;
    margin:0 auto;
}
</style>
    <script src="prism.js"></script>
</body>
</html>
