{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js","webpack:///./reducers.js","webpack:///./store.js"],"names":["actionCreator1","value","type","actionCreator2","actionCreator3","numberReducer","num","action","rootReducer","combineReducers","number","store","Store","getState","console","log","announceStateChange","nextState","subscribe","dispatch","userReducer","state","newState","slice","push","user","roleReducer","obj","reducerObject","prevState","subscriptions","changed","keys","Object","forEach","key","s","copy","assign","callback"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","import Store from './store';\nimport {combineReducers} from './reducers';\n\n\n// const rootReducer = combineReducers({users: userReducer, roles: roleReducer});\n\n\n// const store = new Store(rootReducer);\n\n// const testAction = { type: 'ADD_USER', user: 'Bill'}\n\n// console.log(store.getState())\n// store.dispatch(testAction);\n// console.log(store.getState())\n\nconst actionCreator1 = value => ({\n    type: \"add\",\n    value\n});\n\nconst actionCreator2 = value => ({\n    type: \"subtract\",\n    value\n});\n\nconst actionCreator3 = value => ({\n    type: \"no change\",\n    value\n});\n\nconst numberReducer = (num = 0, action) => {\n    switch (action.type) {\n        case \"add\":\n            return num + action.value;\n        case \"subtract\":\n            return num - action.value;\n        default:\n            return num;\n    }\n}\n\nconst rootReducer = combineReducers({\n    number: numberReducer\n});\n\nconst store = new Store(rootReducer);\n\nstore.getState() // => { number: 0 }\nconsole.log({ store: store.getState()});\n\nconst announceStateChange = nextState => {\n    console.log(`That action changed the state! Number is now ${nextState.number}`);\n}\n\nstore.subscribe(announceStateChange);\n\nstore.dispatch(actionCreator1(5)); // => \"That action changed the state! Number is now 5\"\nconsole.log({ store: store.getState() });\nstore.dispatch(actionCreator1(5)); // => \"That action changed the state! Number is now 10\"\nconsole.log({ store: store.getState() });\nstore.dispatch(actionCreator2(7)); // => \"That action changed the state! Number is now 3\"\nconsole.log({ store: store.getState() });\nstore.dispatch(actionCreator3(7)); // => Nothing should happen! The reducer doesn't do anything for type \"no change\"\nconsole.log({ store: store.getState() });\nstore.dispatch(actionCreator1(0)) // => Nothing should happen here either. Even though the reducer checks for the \"add\" action type, adding 0 to the number won't result in a state change.\nconsole.log({ store: store.getState() }); // => { number: 3 }\n\n// store.getState(); // => { number: 3 }\n\n","export const userReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD_USER':\n      const newState = state.slice()\n      newState.push(action.user)\n      return newState;\n    default:\n      return state;\n  }\n}\n\nexport const roleReducer = (state = '', action) => {\n  switch (action.type) {\n    case 'CHANGE_ROLE':\n      return state;\n    default:\n      return state;\n  }\n}\n\n\n// reducer\n// {\n//     users: () => {},\n//     roles: () => {}\n// }\n\n// state\n// {\n//     users: {},\n//     roles: {}\n// }\n\n// [users, roles]\n\nexport const combineReducers = (obj) => {\n  const reducerObject = obj;\n  return (prevState, action, subscriptions) => {\n    const newState = {}\n    let changed = false;\n      const keys = Object.keys(reducerObject);\n    keys.forEach(key => {\n        newState[key] = reducerObject[key](prevState[key], action)\n        if(newState[key] !== prevState[key]) changed = true;\n    })\n    // debugger\n    if (changed) {\n        subscriptions.forEach( s => s(newState))\n        return newState\n    }\n    return prevState\n  }\n}\n\n// const myNoiseReducer = (prevState = \"peace and quiet\", action) => {\n//     switch (action.type) {\n//         case \"noisy action\":\n//             return action.noise;\n//         default:\n//             return prevState;\n//     }\n// };\n\n// const myNoisyAction = {\n//     type: \"noisy action\",\n//     noise: \"Car alarm\"\n// };\n\n// const myInconsequentialAction = {\n//     type: \"a type no one cares about\",\n//     data: {\n//         thisThing: \"will not get used anyway\"\n//     }\n// };\n\n// const myInitialState = {\n//     noise: \"peace and quiet\"\n// };\n\n// const myRootReducer = combineReducers({\n//     noise: myNoiseReducer,\n// });\n\n// let newState = myRootReducer(myInitialState, myInconsequentialAction);\n// console.log({newState});\n\n// // => { noise: \"peace and quiet\" }\n\n// const ns2 = myRootReducer(newState, myNoisyAction)\n// console.log({ ns2});\n\n// // => { noise: \"Car alarm\" }\n\n// const ns3 = myRootReducer(ns2, myInconsequentialAction)\n// console.log({ns3})\n// // => { noise: \"Car alarm\" }\n","class Store {\n    constructor(rootReducer) {\n        this.rootReducer = rootReducer\n        this.state = {}\n        this.subscriptions = []\n    }\n\n    getState() {\n        const copy = Object.assign({}, this.state)\n        return copy\n    }\n\n    subscribe(callback) {\n        this.subscriptions.push(callback)\n    }\n\n    dispatch(action) {\n      const newState = this.rootReducer(this.state, action, this.subscriptions)\n      \n      this.state = Object.assign(this.state, newState);\n    }\n}\n\nexport default Store"],"sourceRoot":""}